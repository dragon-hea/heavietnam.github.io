{"id":79,"date":"2021-09-29T04:29:07","date_gmt":"2021-09-29T04:29:07","guid":{"rendered":"https:\/\/heavietnam.ga\/?p=79"},"modified":"2022-04-16T21:20:25","modified_gmt":"2022-04-16T14:20:25","slug":"iv-patch-pin","status":"publish","type":"post","link":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/","title":{"rendered":"IV. Patch pin"},"content":{"rendered":"<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_18 counter-hierarchy counter-decimal\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Danh m\u1ee5c<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#I_Tim_hieu_thuat_ngu\" title=\"I: T\u00ecm hi\u1ec3u thu\u1eadt ng\u1eef&nbsp;\">I: T\u00ecm hi\u1ec3u thu\u1eadt ng\u1eef&nbsp;<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#II_Tien_hanh\" title=\"II : Ti\u1ebfn h\u00e0nh \">II : Ti\u1ebfn h\u00e0nh <\/a><ul class=\"ez-toc-list-level-3\"><li class=\"ez-toc-heading-level-3\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#Cach_1_Dung_kext_ECEnabler\" title=\"C\u00e1ch 1: D\u00f9ng kext ECEnabler\">C\u00e1ch 1: D\u00f9ng kext ECEnabler<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-3\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#Cach_2_Dung_cac_patch_san_cua_RehabMan\" title=\"C\u00e1ch 2: D\u00f9ng c\u00e1c patch s\u1eb5n c\u1ee7a RehabMan \">C\u00e1ch 2: D\u00f9ng c\u00e1c patch s\u1eb5n c\u1ee7a RehabMan <\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-3\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#Cach_3_Static_patch\" title=\"C\u00e1ch 3: Static patch\">C\u00e1ch 3: Static patch<\/a><ul class=\"ez-toc-list-level-4\"><li class=\"ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#P1_Xac_dinh_phan_can_patch\" title=\"P1: X\u00e1c \u0111\u1ecbnh ph\u1ea7n c\u1ea7n patch:\">P1: X\u00e1c \u0111\u1ecbnh ph\u1ea7n c\u1ea7n patch:<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#P2_Patch_cac_truong_16_bit_va_32_bit\" title=\"P2: Patch c\u00e1c tr\u01b0\u1eddng 16 bit v\u00e0 32 bit\">P2: Patch c\u00e1c tr\u01b0\u1eddng 16 bit v\u00e0 32 bit<\/a><ul class=\"ez-toc-list-level-5\"><li class=\"ez-toc-heading-level-5\"><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#Truong_16_bit\" title=\"Tr\u01b0\u1eddng 16 bit:\">Tr\u01b0\u1eddng 16 bit:<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-5\"><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#Truong_32_bit\" title=\"Tr\u01b0\u1eddng 32 bit\">Tr\u01b0\u1eddng 32 bit<\/a><\/li><\/ul><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#P3_Patch_cac_truong_lon_hon_32_bit\" title=\"P3: Patch c\u00e1c tr\u01b0\u1eddng l\u1edbn h\u01a1n 32 bit\">P3: Patch c\u00e1c tr\u01b0\u1eddng l\u1edbn h\u01a1n 32 bit<\/a><\/li><\/ul><\/li><\/ul><\/li><\/ul><\/nav><\/div>\n\n<h2><span class=\"ez-toc-section\" id=\"I_Tim_hieu_thuat_ngu\"><\/span><strong><em>I: T\u00ecm hi\u1ec3u thu\u1eadt ng\u1eef&nbsp;<\/em><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<ul><li>Tr\u01b0\u1edbc ti\u00ean ta ph\u1ea3i hi\u1ec3u nguy\u00ean t\u00e1c ho\u1ea1t \u0111\u1ed9ng:<\/li><\/ul>\n\n\n\n<p>C\u00e1c b\u1ea3n AppleACPIPlatform m\u1edbi kh\u00f4ng th\u1ec3 n\u00e0o truy c\u1eadp ch\u00ednh x\u00e1c v\u00e0o tr\u01b0\u1eddng EC (Embedded Controller) n\u00ean n\u00f3 s\u1ebd g\u00e2y ra 1 s\u1ed1 l\u1ed7i khi s\u1eed d\u1ee5ng c\u00e1c kext hi\u1ec3n th\u1ecb ph\u1ea7n tr\u0103m pin, b\u1ea1n ph\u1ea3i ti\u1ebfn h\u00e0nh s\u1eeda \u0111\u1ed5i DSDT \u0111\u1ec3 n\u00f3 nh\u1eadn ch\u00ednh x\u00e1c m\u1eb7c d\u00f9 b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng c\u00e1c b\u1ea3n <meta charset=\"utf-8\">AppleACPIPlatform c\u0169 h\u01a1n (Snow Leopard) nh\u01b0ng v\u00ec c\u00e1c CPU \u0111\u1eddi Ivy Birdge + c\u00f3 h\u1ed7 tr\u1ee3 t\u00ednh n\u0103ng qu\u1ea3n l\u00fd n\u0103ng l\u01b0\u1ee3ng n\u00ean m\u00ecnh khuy\u00ean c\u00e1c b\u1ea1n n\u00ean d\u00f9ng b\u1ea3n m\u1edbi nh\u1ea5t. \u0110\u1ec3 l\u00e0m \u0111i\u1ec1u \u0111\u00f3, ch\u00fang ta c\u1ea7n thay \u0111\u1ed5i c\u00e1c tr\u01b0\u1eddng trong EC th\u00e0nh 8 bit \u0111\u1ec3 c\u00f3 th\u1ec3 truy c\u1eadp c\u00f9ng 1 l\u00fac.<\/p>\n\n\n\n<h2><span class=\"ez-toc-section\" id=\"II_Tien_hanh\"><\/span><strong><em>II : Ti\u1ebfn h\u00e0nh<\/em><\/strong> <span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<h3><span class=\"ez-toc-section\" id=\"Cach_1_Dung_kext_ECEnabler\"><\/span><strong>C\u00e1ch 1: D\u00f9ng kext <code>ECEnabler<\/code><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h3>\n\n\n\n<p>Khi d\u00f9ng c\u00e1ch n\u00e0y th\u00ec kh\u1ea3 n\u0103ng 90% l\u00e0 nh\u1eadn pin<\/p>\n\n\n\n<p><strong>B1:<\/strong> T\u1ea3i kext ECEnabler t\u1eeb ngu\u1ed3n <a href=\"https:\/\/github.com\/1Revenger1\/ECEnabler\/releases\">Releases \u00b7 1Revenger1\/Enabler \u00b7 GitHub<\/a>&nbsp; v\u00e0 b\u1ecf v\u00e0o th\u01b0 m\u1ee5c EFI \u21d2 OC ho\u1eb7c EFI ==&gt; CLOVER ==&gt; KEXT ==&gt; OTHER<\/p>\n\n\n\n<p><strong>B2<\/strong> Snapshot config n\u1ebfu d\u00f9ng OpenCore.<\/p>\n\n\n\n<p><strong>B3<\/strong>: T\u1ea3i SMCBattery.kext b\u1ecf v\u00f4 m\u1ee5c kext v\u00e0 snapshot l\u1ea1i (n\u1ebfu d\u00f9ng OpenCore) (t\u1ea3i \u1edf \u0111\u00e2y nh\u00e9 <a href=\"https:\/\/github.com\/acidanthera\/virtualsmc\/releases\">Releases \u00b7 acidanthera\/VirtualSMC \u00b7 GitHub<\/a>)<\/p>\n\n\n\n<p><strong>B4<\/strong>: Reboot v\u00e0 t\u1eadn h\u01b0\u1edfng.<\/p>\n\n\n\n<h3><span class=\"ez-toc-section\" id=\"Cach_2_Dung_cac_patch_san_cua_RehabMan\"><\/span><strong>C\u00e1ch 2: D\u00f9ng c\u00e1c patch s\u1eb5n c\u1ee7a RehabMan <\/strong><span class=\"ez-toc-section-end\"><\/span><\/h3>\n\n\n\n<p>B2: C\u00e1c b\u1ea1n download patch ph\u00f9 h\u1ee3p v\u1edbi m\u00e1y c\u1ee7a c\u00e1c b\u1ea1n <a href=\"https:\/\/github.com\/RehabMan\/Laptop-DSDT-Patch\/tree\/master\/battery\">t\u1ea1i \u0111\u00e2y<\/a>. <\/p>\n\n\n\n<p>H\u1ea7u h\u1ebft c\u00e1c m\u00e1y ASUS v\u00e0 Lenovo \u0111\u1ec1u c\u00f3 patch. <\/p>\n\n\n\n<p>B3: Xem patch n\u00e0o h\u1ed7 tr\u1ee3 m\u00e1y c\u1ee7a b\u1ea1n: <\/p>\n\n\n\n<ul><li>C\u00e1c b\u1ea1n v\u00e0o c\u00e1c patch ph\u00f9 h\u1ee3p v\u1edbi model m\u00e1y v\u00e0 t\u00ecm xu\u1ed1ng ph\u1ea7n <code>works for<\/code><\/li><\/ul>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0\" alt=\"\"\/><\/figure>\n\n\n\n<p>B4: T\u1ea3i patch v\u00e0 MaciASL <a href=\"https:\/\/bitbucket.org\/RehabMan\/os-x-maciasl-patchmatic\/downloads\/\">t\u1ea1i \u0111\u00e2y<\/a>. <\/p>\n\n\n\n<p>B5: Dump DSDT v\u00e0 compile theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<p>B6: \u00c1p d\u1ee5ng c\u00e1c patch theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvii-patch-dsdt-phan-2\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd : Khi l\u00e0m theo c\u00e1ch n\u00e0y th\u00ec l\u00fac c\u00e1c b\u1ea1n update firmware s\u1ebd ph\u1ea3i l\u00e0m l\u1ea1i, n\u1ebfu kh\u00f4ng mu\u1ed1n l\u00e0m l\u1ea1i th\u00ec c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 tr\u00edch DSDT theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\" target=\"_blank\" rel=\"noreferrer noopener\">t\u1ea1i \u0111\u00e2y<\/a><\/strong>.<\/p>\n\n\n\n<h3><span class=\"ez-toc-section\" id=\"Cach_3_Static_patch\"><\/span><strong>C\u00e1ch 3: Static patch<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h3>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"P1_Xac_dinh_phan_can_patch\"><\/span>P1: X\u00e1c \u0111\u1ecbnh ph\u1ea7n c\u1ea7n patch:<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>B1: C\u00e1c b\u1ea1n dump DSDT theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<p>B2: Bi\u00ean d\u1ecbch DSDT th\u00e0nh .dsl theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<p>B3: M\u1edf DSDT l\u00ean v\u00e0 search <code>Embedded<\/code> \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh c\u00e1c tr\u01b0\u1eddng EC. \u1ede \u0111\u00e2y ta c\u00f3 4 tr\u01b0\u1eddng EC:<\/p>\n\n\n\n<ul><li>ECOR<\/li><li>SMBX<\/li><li>SMB2<\/li><li>NSBS<\/li><\/ul>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/mHjuCbv.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/dCyEepS.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/MkH33ag.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/yW0kwml.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B4: Ta ti\u1ebfn h\u00e0nh search c\u00e1c tr\u01b0\u1eddng EC \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf tr\u00ean <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/c4T4m4n.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/nTeM727.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/Nc97ACs.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/l3IesQ7.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>\u1ede \u0111\u00e2y ta c\u00f3:<\/p>\n\n\n\n<ul><li>Bi\u1ebfn NSBS xu\u1ea5t hi\u1ec7n \u1edf 1 field <\/li><li>Bi\u1ebfn SMB2 xu\u1ea5t hi\u1ec7n \u1edf 2 field<\/li><li>Bi\u1ebfn SMBX xu\u1ea5t hi\u1ec7n \u1edf 3 field<\/li><li>V\u00e0 bi\u1ebfn ECOR xu\u1ea5t hi\u1ec7n \u1edf 1 field<\/li><\/ul>\n\n\n\n<p>B5: C\u00e1c b\u1ea1n ti\u1ebfn h\u00e0nh nh\u00ecn v\u00e0o c\u00e1c bi\u1ebfn \u1edf c\u00e1c field \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf tr\u00ean. Bi\u1ebfn n\u00e0o tr\u00ean 8 bit th\u00ec ghi l\u1ea1i.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/VowFNDs.png\" alt=\"\"\/><\/figure>\n\n\n\n<p><strong>L\u01b0u \u00fd:<\/strong> <\/p>\n\n\n\n<ul><li>\u0110\u1ed1i v\u1edbi nh\u1eefng tr\u01b0\u1eddng 16 bit v\u00e0 32 bit c\u00e1c b\u1ea1n ti\u1ebft h\u00e0nh search c\u00e1c tr\u01b0\u1eddng \u0111\u00f3 n\u1ebfu ch\u1ec9 tr\u1ea3 v\u1ec1 1 gi\u00e1 tr\u1ecb c\u00f3 ngh\u0129a l\u00e0 tr\u01b0\u1eddng \u0111\u00f3 kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng v\u00e0 c\u00f3 th\u1ec3 b\u1ecf qua.<\/li><\/ul>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/I8f6UAl.png\" alt=\"\"\/><\/figure>\n\n\n\n<ul><li><strong>\u1ede \u0111\u00e2y ta c\u00f3 tr\u01b0\u1eddng B0TM c\u00f3 16 bit<\/strong><ul><li>Tuy nhi\u00ean khi search l\u1ea1i tr\u01b0\u1eddng n\u00e0y t\u1ea3 ch\u1ec9 th\u1ea5y c\u00f3 1 k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1. T\u1ee9c tr\u01b0\u1eddng n\u00e0y kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng v\u00e0 c\u00f3 th\u1ec3 b\u1ecf qua.<\/li><\/ul><\/li><\/ul>\n\n\n\n<p>L\u00e0m t\u01b0\u01a1ng t\u1ef1 nh\u01b0 v\u1eady ta c\u00f3: <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>DT2B,   16 \nTAH0,   16,  \nTAH1,   16,  \nB0C3,   16, \nB0SN,   16, \nB1SN,   16 \nBDAT,   256, \nBDA2,   256,  <\/code><\/pre>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"P2_Patch_cac_truong_16_bit_va_32_bit\"><\/span>P2: Patch c\u00e1c tr\u01b0\u1eddng 16 bit v\u00e0 32 bit<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<h5><span class=\"ez-toc-section\" id=\"Truong_16_bit\"><\/span><mark style=\"background-color:#efe61f\" class=\"has-inline-color\">Tr\u01b0\u1eddng 16 bit:<\/mark><span class=\"ez-toc-section-end\"><\/span><\/h5>\n\n\n\n<p>\u0110\u1ec3 fix c\u00e1c tr\u01b0\u1eddng 16 bit b\u1ea1n s\u1ebd ti\u1ebfn h\u00e0nh chia nh\u1ecf c\u00e1c tr\u01b0\u1eddng 16 bit th\u00e0nh 2 tr\u01b0\u1eddng 8 bit<\/p>\n\n\n\n<p>B1: \u0110\u1eb7t t\u00ean cho 2 tr\u01b0\u1eddng v\u1eeba t\u00e1ch. T\u00ean m\u1edbi kh\u00f4ng \u0111\u01b0\u1ee3c tr\u00f9ng v\u1edbi c\u00e1c t\u00ean \u0111\u00e3 c\u00f3 trong DSDT (m\u1eb9o \u1edf \u0111\u00e2y l\u00e0 b\u1ea1n s\u1ebd l\u1ea5y t\u00ean c\u1ee7a tr\u01b0\u1eddng ch\u00ednh b\u1ecf \u0111i k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean v\u00e0 th\u00eam sau l\u00e0 c\u00e1c s\u00f4 th\u1ee9 t\u1ef1. C\u1ea7n tr\u00e1nh c\u00e1c t\u00ean b\u1eaft \u0111\u1ea7u b\u1eb1n ch\u1eef s\u1ed1)<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ sau khi l\u00e0m xong ta \u0111\u01b0\u1ee3c\nvariableOrig.            variable1     variable2\nDT2B,   16,      ==&gt;        T2B1,        T2B2\nTAH0,   16,      ==&gt;        AH01,        AH02\nTAH1,   16,      ==&gt;        AH11,        AH12\nB0C3,   16,      ==&gt;        B0CX,        B0CK\nB0SN,   16,      ==&gt;        B0SX,        B0SK\nB1SN,   16,      ==&gt;        B1SX,        B1SK<\/code><\/pre>\n\n\n\n<p>B2: Ti\u1ebfn h\u00e0nh vi\u1ebft patch \u0111\u1ec3 t\u00e1ch c\u00e1c tr\u01b0\u1eddng th\u00e0nh c\u00e1c tr\u01b0\u1eddng nh\u1ecf 8 bit.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code># c\u1ea5u tr\u00fac chung:\ninto device label EC code_regex variableOrig,\\s+16, replace_matched begin variable1,8,variable2,8, end;\n# Note thay variable b\u1eb1ng t\u00ean tr\u01b0\u1eddng c\u00e1c b\u1ea1n \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf tr\u00ean\n\n# v\u00ed d\u1ee5\ninto device label EC code_regex DT2B,\\s+16 replace_matched begin T2B1,8,T2B2,8, end;\n\n# gi\u00e1i th\u00edch c\u00fa ph\u00e1p:\n  # into device label EC code_regex DT2B,\\s+16: t\u1ee9c l\u00e0 t\u00ecm trong device EC \u0111o\u1ea1n code DT2B,   16\n  # replace_matched begin T2B1,8,T2B2,8,: t\u1ee9c l\u00e0 thay th\u1ebf \u0111o\u1ea1n code tr\u00ean v\u00e0 thay th\u1ebf ch\u00fang b\u1eb1ng T2B1,8,T2B2,8,\n\n# sau khi l\u00e0m xong ta \u0111\u01b0\u1ee3c\ninto device label EC code_regex DT2B,\\s+16 replace_matched begin T2B1,8,T2B2,8, end;\ninto device label EC code_regex TAH0,\\s+16, replace_matched begin AH01,8,AH02,8, end;\ninto device label EC code_regex TAH1,\\s+16, replace_matched begin AH11,8,AH12,8, end;\ninto device label EC code_regex B0C3,\\s+16, replace_matched begin B0CX,8,B0CK,8, end;\ninto device label EC code_regex B0SN,\\s+16, replace_matched begin B0SX,8,B0SK,8, end;\ninto device label EC code_regex B1SN,\\s+16 replace_matched begin B1SX,8,B1SK,8, end;<\/code><\/pre>\n\n\n\n<p>B3: Ti\u1ebfn h\u00e0nh apply patch v\u1eeba vi\u1ebft theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvii-patch-dsdt-phan-2\/\">t\u1ea1i \u0111\u00e2y<\/a>. Sau khi apply s\u1ebd \u0111\u01b0\u1ee3c nh\u01b0 h\u00ecnh:<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/imgur.com\/UeO8FcP.png\" alt=\"\"\/><figcaption>h\u00ecnh \u1ea3nh ch\u1ec9 mang t\u00ednh ch\u1ea5t minh h\u1ecda<\/figcaption><\/figure>\n\n\n\n<p>B4: Ta s\u1ebd ti\u1ebfn h\u00e0nh fix c\u00e1c l\u1ed7i. Do \u1edf b\u01b0\u1edbc tr\u00ean b\u1ea1n \u0111\u00e3 ti\u00ean h\u00e0nh t\u00e1ch c\u00e1c tr\u01b0\u1eddng 16 bit n\u00ean nh\u1eefng method call qua tr\u01b0\u1eddng n\u00e0y s\u1ebd b\u1ecb l\u1ed7i. \u0110\u1ec3 fix l\u1ed7i \u0111\u00f3 c\u00e1c b\u1ea1n s\u1ebd ti\u1ebfn h\u00e0nh add method b1b2 v\u00e0o:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label B1B2 remove_entry;\ninto definitionblock code_regex . insert\nbegin\nMethod (B1B2, 2, NotSerialized) { Return(Or(Arg0, ShiftLeft(Arg1, 8))) }\\n\nend;<\/code><\/pre>\n\n\n\n<p>B5: Nh\u1ea5n compiler \u0111\u1ec3 ti\u1ebfn h\u00e0nh check l\u1ed7i.<\/p>\n\n\n\n<p>B6: C\u00e1c b\u1ea1n s\u1ebd \u00e2n v\u00e0o v\u00f9ng l\u1ed7i v\u00e0 t\u00ecm xem n\u00f3 \u1edf method n\u00e0o. <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/NMHGJi2.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B7: Ta s\u1ebd ti\u1ebfn h\u00e0nh ph\u00e2n t\u00edch l\u1ed7i v\u00e0 vi\u1ebft patch. <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/UcTCMTg.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>\u1ede \u0111\u00e2y ta th\u1ea5y n\u00f3 b\u00e1o l\u1ed7i tr\u01b0\u1eddng <code>B1SN<\/code> khi nh\u1ea5n v\u00e0o th\u00ec s\u1ebd hi\u1ec7n d\u00f2ng code b\u1ecb l\u1ed7i l\u00e0 <code>Store (B1SN, Local0)<\/code> \u1edf method <code>BIFA<\/code> th\u00ec ta s\u1ebd c\u00f3 c\u00e1ch d\u1ea1ng l\u1ed7i th\u01b0\u1eddng g\u1eb7p:<\/p>\n\n\n\n<ul><li><code>Store (variableOrig, )<\/code><ul><li>\u0110\u1ed1i v\u1edbi d\u1ea1ng n\u00e0y ta s\u1ebd c\u00f3 c\u1ea5u tr\u00fac fix chung l\u00e0:<ul><li><code>into method label &lt;method&gt; code_regex \\(&lt;variableOrig&gt;, replaceall_matched begin (B1B2(&lt;variable1&gt;,&lt;variable2&gt;), end;<\/code><\/li><\/ul><\/li><li>V\u00ed d\u1ee5: <ul><li><code>into method label BIFA code_regex \\(B1SN, replaceall_matched begin (B1B2(B1SX,B1SK), end;<\/code><\/li><\/ul><\/li><\/ul><\/li><li><code>Store ( ,variableOrig)<\/code><ul><li>\u0110\u1ed1i v\u1edbi d\u1ea1n n\u00e0y ta s\u1ebd c\u00f3 c\u00e2u tr\u00fac fix chung l\u00e0:<ul><li><code>into method label &lt;method&gt; code_regex \\&lt;variableOrig&gt;) replaceall_matched begin B1B2(&lt;variable1&gt;,&lt;variable2&gt;)) end;<\/code><\/li><\/ul><\/li><li>V\u00ed d\u1ee5:<ul><li><code>into method label SMBW code_regex \\DT2B) replaceall_matched begin B1B2(T2B1,T2B2)) end;<\/code><\/li><\/ul><\/li><\/ul><\/li><\/ul>\n\n\n\n<p>\u1ede tr\u00ean l\u00e0 2 d\u1ea1ng kh\u00e1 ph\u1ed5 bi\u1ebfn m\u00e0 b\u1ea1n c\u00f3 th\u1ec3 g\u1eb7p ph\u1ea3i. Ngo\u00e0i ra c\u00f2n 1 d\u1ea1ng l\u1ed7i \u0111\u1eb7c bi\u1ec7t n\u1eefa nh\u01b0 sau:<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/91jK5ZI.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>Ta c\u00f3 th\u1ec3 th\u1ea5y bi\u1ebfn b\u1ecb l\u1ed7i \u0111\u01b0\u1ee3c g\u1eafn v\u1edbi 1 \u0111\u01b0\u1eddng d\u1eabn. V\u00ec v\u1eady \u0111\u1ec3 fix l\u1ed7i n\u00e0y ta s\u1ebd ti\u1ebfn h\u00e0nh thay to\u00e0n b\u1ed9 \u0111\u01b0\u1eddng d\u1eabn b\u1eb1ng b1b2. Tuy nhi\u00ean b\u1ea1n ph\u1ea3i ti\u1ebfn h\u00e0nh g\u1eafn c\u00e1c bi\u1ebfn trong b1b2 v\u1edbi \u0111\u01b0\u1eddng d\u1eabn \u0111\u00e3 thay th\u1ebf:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ before\nStore (^^LPCB.EC.B0C3, Index (BIXT, 0x0A))\n\/\/ after\nStore (B1B2(^^LPCB.EC.B0CX, ^^LPCB.EC.B0CK), Index (BIXT, 0x0A))<\/code><\/pre>\n\n\n\n<ul><li>C\u1ea5u tr\u00fac chung: <ul><li><code>into method label&lt;method> code_regex \\&lt;path variableOrig>, replaceall_matched begin B1B2(&lt;path variable1>, &lt;path variable2>), end;<\/code><ul><li>Xem c\u00e1c x\u00e1c \u0111\u1ecbnh path <code>variable<\/code> \u1edf m\u1ee5c l\u01b0u \u00fd<\/li><\/ul><\/li><\/ul><\/li><li>V\u00ed d\u1ee5:<ul><li><code>into method label _BIX code_regex \\^\\^LPCB.EC.B0C3, replaceall_matched begin B1B2(^\\^LPCB.EC.B0CX, ^\\^LPCB.EC.B0CK), end;<\/code><\/li><\/ul><\/li><\/ul>\n\n\n\n<p><strong>Ch\u00fa \u00fd: <\/strong><\/p>\n\n\n\n<ul><li><strong>&lt;method> c\u00f3 ngh\u0129a l\u00e0 method ch\u1ee9a d\u00f2ng code l\u1ed7i nh\u01b0 \u1edf tr\u00ean s\u1ebd l\u00e0 <code>_BIX<\/code><\/strong><ul><li>V\u1eady \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c method c\u1ee7a d\u00f2ng code l\u1ed7i ta s\u1ebd \u1ea5n n\u00fat compiler \u0111\u1ec3 check l\u1ed7i v\u00e0 \u1ea5n v\u00e0o l\u1ed7i c\u1ea7n fix nh\u00ecn v\u00e0o g\u1ed1c d\u01b0\u1edbi b\u00ean tr\u00e1i \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c method c\u1ea7n d\u00f9ng.<\/li><\/ul><\/li><\/ul>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/5KJWGIW.png\" alt=\"\"\/><\/figure>\n\n\n\n<ul><li><strong>C\u00e1ch x\u00e1c \u0111\u1ecbnh <code>path variable1<\/code> v\u00e0 <code>path variable2<\/code>: <\/strong><ul><li><code>path variable Orig:_SB.PCI0.LPCB.EC.&lt;variable Orig&gt; ==&gt;<\/code><\/li><li><code>path variable1:_SB.PCI0.LPCB.EC.&lt;variable1&gt;<\/code><\/li><li><code>path variable2:_SB.PCI0.LPCB.EC.&lt;variable2&gt;<\/code><\/li><\/ul><\/li><li>V\u00ed d\u1ee5:<ul><li><code>path variable Orig: _SB.PCI0.LPCB.EC.B0C3 ==&gt;<\/code><\/li><li><code>path variable1:_SB.PCI0.LPCB.EC.B0CX<\/code><\/li><li><code>path variable2:_SB.PCI0.LPCB.EC.B0CK<\/code><\/li><\/ul><\/li><\/ul>\n\n\n\n<p>B8: Sau khi l\u00e0m nh\u01b0 tr\u00ean ta s\u1ebd \u0111\u01b0\u1ee3c c\u00e1c patch:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label _BIX code_regex \\^\\^LPCB\\.EC\\.B0C3, replaceall_matched begin B1B2(^\\^LPCB\\.EC\\.B0CX, ^\\^LPCB\\.EC\\.B0CK), end;\n\ninto method label BIFA code_regex \\(B1SN, replaceall_matched begin (B1B2(B1SX,B1SK), end;\n\ninto method label BIFA code_regex \\(B0SN, replaceall_matched begin (B1B2(B0SX,B0SK), end;\n\ninto method label SMBR code_regex \\(DT2B, replaceall_matched begin (B1B2(T2B1,T2B2), end;\n\ninto method label SMBW code_regex \\DT2B\\) replaceall_matched begin B1B2(T2B1,T2B2)) end;\n\ninto method label TACH code_regex \\(TAH0, replaceall_matched begin (B1B2(AH01,AH02), end;\n\ninto method label TACH code_regex \\(TAH1, replaceall_matched begin (B1B2(AH11,AH12), end;<\/code><\/pre>\n\n\n\n<p>Apply c\u00e1c patch theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvii-patch-dsdt-phan-2\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<h5><span class=\"ez-toc-section\" id=\"Truong_32_bit\"><\/span><mark style=\"background-color:#fcb900\" class=\"has-inline-color\">Tr\u01b0\u1eddng 32 bit<\/mark><span class=\"ez-toc-section-end\"><\/span><\/h5>\n\n\n\n<p>\u1ede \u0111\u00e2y do DSDT patch \u1edf tr\u00ean kh\u00f4ng c\u00f3 tr\u01b0\u1eddng 32 bit n\u00ean ta s\u1ebd d\u00f9ng t\u1ea1m DSDT kh\u00e1c \u0111\u1ec3 ti\u1ebfn h\u00e0nh patch tr\u01b0\u1eddng 32 bit. L\u00e0m t\u01b0\u01a1ng t\u1ef1 nh\u01b0 P1 ta c\u00f3 c\u00e1c tr\u01b0\u1eddng 32 bit sau: <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>BTY0,   32, \nBTY1,   32,<\/code><\/pre>\n\n\n\n<p>B1: Ta s\u1ebd ti\u1ebfn h\u00e0nh t\u00e1ch c\u00e1c tr\u01b0\u1eddng 32 bit th\u00e0nh 4 tr\u01b0\u1eddng 8 bit v\u00e0 \u0111\u1eb7t t\u00ean cho 4 tr\u01b0\u1eddng \u0111\u00f3:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>BTY0,   32, ==&gt; TY01,TY02,TY03,TY04\nBTY1,   32, ==&gt; TY11,TY12,TY13,TY14<\/code><\/pre>\n\n\n\n<p>B2: Ta ti\u1ebfn h\u00e0nh vi\u1ebft patch tr\u01b0\u01a1ng t\u1ef1 nh\u01b0 \u1edf tr\u01b0\u1eddng 16 bit. Nh\u01b0ng thay v\u00ec thay b\u1eb1ng 2 tr\u01b0\u1eddng 8 bit ta s\u1ebd ti\u1ebfn h\u00e0nh thay b\u1eb1ng 4 tr\u01b0\u1eddng 8 bit. Sau khi l\u00e0m xong ta \u0111\u01b0\u1ee3c:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into device label EC code_regex BTY0,\\s+32 replace_matched begin TY01,8,TY02,8,TY03,8,TY04,8 end;\n\ninto device label EC code_regex BTY1,\\s+32 replace_matched begin TY11,8,TY12,8,TY13,8,TY14,8 end;<\/code><\/pre>\n\n\n\n<p>T\u01b0\u01a1ng t\u1ef1 nh\u01b0 tr\u01b0\u1eddng 16 bit ta v\u1eabn s\u1ebd g\u1eb7p error. <\/p>\n\n\n\n<p>B3: \u0110\u1ec3 kh\u1eafc ph\u1ee5c \u0111i\u1ec1u n\u00e0y ta s\u1ebd ti\u1ebfn h\u00e0nh t\u01b0\u01a1ng t\u1ef1 nh\u01b0 tr\u01b0\u1eddng 16 bit nh\u01b0ng thay v\u00ec add method B1B2 ta s\u1ebd add method B1B4: <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label B1B4 remove_entry;\ninto definitionblock code_regex . insert\nbegin\nMethod (B1B4, 4, NotSerialized)\\n\n{\\n\n    Store(Arg3, Local0)\\n\n    Or(Arg2, ShiftLeft(Local0, 8), Local0)\\n\n    Or(Arg1, ShiftLeft(Local0, 8), Local0)\\n\n    Or(Arg0, ShiftLeft(Local0, 8), Local0)\\n\n    Return(Local0)\\n\n}\\n\nend;<\/code><\/pre>\n\n\n\n<p>B4: Ta s\u1ebd ti\u1ebfn h\u00e0nh add c\u00e1c patch fix l\u1ed7i t\u01b0\u01a1ng t\u1ef1 nh\u01b0 tr\u01b0\u1eddng 16 bit nh\u01b0ng thay B1B2 th\u00e0nh B1B4. Sau khi l\u00e0m xong ta s\u1ebd \u0111\u01b0\u1ee3c:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label GBTI code_regex \\(BTY0, replaceall_matched begin (B1B4(TY01,TY02,TY03,TY04), end;\n\ninto method label GBTI code_regex \\(BTY1, replaceall_matched begin (B1B4(TY11,TY12,TY13,TY14), end;<\/code><\/pre>\n\n\n\n<p>B5: Ti\u1ebfn h\u00e0nh apply c\u00e1c patch.<\/p>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"P3_Patch_cac_truong_lon_hon_32_bit\"><\/span>P3: Patch c\u00e1c tr\u01b0\u1eddng l\u1edbn h\u01a1n 32 bit<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>Nh\u01b0 \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf P1 ta c\u00f3 c\u00e1c tr\u01b0\u1eddng l\u1edbn h\u01a1n 32 bit l\u00e0: <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>BDAT,   256, \nBDA2,   256, <\/code><\/pre>\n\n\n\n<p>B1: Ta s\u1ebd ti\u1ebfn h\u00e0nh \u0111\u1ed5i t\u00ean c\u00e1c tr\u01b0\u1eddng n\u00e0y:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>variableOrig      variablerenamed\nBDAT,   256,  ==&gt;     DATX\nBDA2,   256,  ==&gt;     DA2X<\/code><\/pre>\n\n\n\n<p>B2: Ti\u1ebfn h\u00e0nh vi\u1ebft patch<\/p>\n\n\n\n<ul><li>C\u1ea5u tr\u00fac chung:<ul><li><code>into device label EC code_regex (&lt;variable<span style=\"background-color: inherit; font-family: Menlo, Consolas, monaco, monospace; font-size: inherit;\">Ori<\/span>g&gt;,)\\s+(56) replace_matched begin &lt;variablerenamed&gt;,%2,\/\/%1%2 end;<\/code><\/li><li>Gi\u1ea3i th\u00edch c\u00fa ph\u00e1p:<ul><li><code>into device label EC code_regex (&lt;variableOrig&gt;,)\\s+(56)<\/code>: t\u00ecm trong device EC \u0111o\u1ea1n code l\u00e0 <span style=\"background-color: inherit; font-family: Menlo, Consolas, monaco, monospace; font-size: inherit;\"><code>BDAT,   256<\/code><\/span><\/li><li><code>replace_matched begin &lt;variablerenamed&gt;,%2,\/\/%1%2 end;<\/code>:  l\u00e0 thay \u0111o\u1ea1n t\u00ecm th\u1ea5y b\u1eb1ng <span style=\"background-color: inherit; font-family: Menlo, Consolas, monaco, monospace; font-size: inherit;\"><code>DATX,256,\/\/BDAT,256,<\/code><\/span><\/li><\/ul><\/li><\/ul><\/li><li>V\u00ed d\u1ee5:<ul><li><code>into device label EC code_regex (BDAT,)\\s+(256) replace_matched begin DATX,%2,\/\/%1%2 end;<\/code><\/li><li><code>into device label EC code_regex (BDA2,)\\s+(256) replace_matched begin DA2X,%2,\/\/%1%2 end;<\/code><\/li><\/ul><\/li><\/ul>\n\n\n\n<p>B3: Apply patch v\u00e0o DSDT.<\/p>\n\n\n\n<p>B4: Ta ti\u1ebfn h\u00e0nh x\u00e1c \u0111\u1ecbnh offset \u1edf c\u00e1c tr\u01b0\u1eddng n\u00e0y. C\u00f3 2 tr\u01b0\u1eddng h\u1ee3p c\u00f3 th\u1ec3 x\u1ea3y ra:<\/p>\n\n\n\n<ul><li>Th\u00f4ng th\u01b0\u1eddng th\u00ec \u1edf c\u00e1c field s\u1ebd c\u00f3 \u00edt nh\u1ea5t 1 offset \u0111\u01b0\u1ee3c cho tr\u01b0\u1edbc<img src=\"https:\/\/i.imgur.com\/EoDAibZ.png\"><\/li><\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ Ta s\u1ebd c\u00f3 c\u00e1ch t\u00ednh nh\u01b0 sau\n                Offset (0xDE), \/\/convert hex to decimal ta \u0111\u01b0\u1ee3c 222\n                B1TM,   16, \/\/ 222 = 0xDE\n                B1C1,   16, \/\/ 222 + (16\/8) = 224 = 0xE0\n                B1C2,   16, \/\/ 222 + (16\/8) + (16\/8) = 226 = 0xE2\n                B1C3,   16, \/\/ 222 + (16\/8) + (16\/8) + 16\/8) = 228 = 0xE4<\/code><\/pre>\n\n\n\n<ul><li>Nh\u01b0 v\u1eady ta c\u00f3 c\u00e1c offset sau:<ul><li>B1TM: 0xDE<\/li><li>B1C1: 0xE0<\/li><li>B1C2: 0xE2<\/li><li>B1C3: 0xE4<\/li><\/ul><\/li><li>Tuy nhi\u00ean c\u00f3 nh\u1eefng tr\u01b0\u1eddng h\u1ee3p trong field kh\u00f4ng cho s\u1eb5n offset nh\u01b0 l\u00e0:<br> <img src=\"https:\/\/i.imgur.com\/YsVWh4i.png\"> <br> <img src=\"https:\/\/i.imgur.com\/CX0WaqK.png\">  <ul><li>Ta s\u1ebd nh\u00ecn v\u00e0o <code>OperationRegion (SMB2, EmbeddedControl, 0x40, 0x28)<\/code> v\u00e0 <code>OperationRegion (SMBX, EmbeddedControl, 0x18, 0x28)<\/code> ta c\u00f3 nh\u01b0 sau:<ul><li><code>0x28<\/code> th\u00ec \u0111ang ch\u1ec9 v\u1ecb tr\u1ecb c\u1ee7a Region n\u00e0y<\/li><li><code>0x40<\/code> v\u00e0 <code>0x18<\/code> ch\u00ednh l\u00e0 offset l\u1ea7n c\u1ee7a <code>SMB2<\/code> v\u00e0 <code>SMBX<\/code> <\/li><\/ul><\/li><\/ul><\/li><\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ Ta c\u00f3 nh\u01b0 sau\n                  \/\/convert hex to decimal: 0x18 = 24\n            OperationRegion (SMBX, EmbeddedControl, 0x18, 0x28)\n            Field (SMBX, ByteAcc, NoLock, Preserve)\n            {\n              \/\/ 24 = 0x18\n                PRTC,   8,\n              \/\/ 24 + (8\/8) = 25 = 0x19 \n                SSTS,   5, \n              \/\/ 24 + (8\/8) + (5\/8) = 25.625 = 0x19.A\n                    ,   1,\n             \/\/ 24 + (8\/8) + (5\/8) + (1\/8) = 25.75 = 0x19.C \n                ALFG,   1,\n             \/\/ 24 + (8\/8) + (5\/8) + (1\/8) + (1\/8) = 25.875 = 0x19.E \n                CDFG,   1, \n       \/\/ 24 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) = 26 = 0x1A \n                ADDR,   8, \n       \/\/ 24 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) = 27 = 0x1B \n                CMDB,   8, \n\/\/ 24 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) + (8\/8) = 28 = 0x1C \n                BDAT,   256, \n            }\n               \/\/convert hex to decimal: 0x40 = 64\n            OperationRegion (SMB2, EmbeddedControl, 0x40, 0x28)\n            Field (SMB2, ByteAcc, NoLock, Preserve)\n            {\n              \/\/ 64 = 0x40\n                PRT2,   8, \n        \/\/ 64 + (8\/8) = 65 = 0x41\n                SST2,   5, \n   \/\/ 64 + (8\/8) + (5\/8) = 65.625 = 0x41.A\n                    ,   1, \n \/\/ 64 + (8\/8) + (5\/8) + (1\/8) = 65.75 = 0x41.C\n                ALF2,   1, \n\/\/ 64 + (8\/8) + (5\/8) + (1\/8) + (1\/8) = 65.875 = 0x41.E\n                CDF2,   1, \n\/\/ 64 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) = 66 = 0x42\n                ADD2,   8, \n\/\/ 64 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) = 67 = 0x43\n                CMD2,   8, \n\/\/ 64 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) + (8\/8) = 68 = 0x44\n                BDA2,   256, \n            }<\/code><\/pre>\n\n\n\n<p>V\u1eady ta s\u1ebd c\u00f3 c\u00e1c offset sau:<\/p>\n\n\n\n<ul><li>BDAT: 0x1C<\/li><li>BDA2: 0x44<\/li><\/ul>\n\n\n\n<p>B5: V\u00ec ta \u0111\u00e3 rename \u1edf b\u01b0\u1edbc 2 n\u00ean khi compiler s\u1ebd c\u00f3 error. \u0110\u1ec3 kh\u1eafc ph\u1ee5c ta s\u1ebd ti\u1ebfn h\u00e0nh add method RECB (Read EC Buffer) v\u00e0 WECB (Write EC Buffer)<\/p>\n\n\n\n<ul><li>Khi b\u1ea1n check l\u1ed7i m\u00e0 nh\u1eadn \u0111\u01b0\u1ee3c l\u1ed7i c\u00f3 d\u1ea1ng <code>Store(&lt;variableOrig&gt;, )<\/code><ul><li>th\u00ec n\u00f3 s\u1ebd thu\u1ed9c method RECB<\/li><li>V\u00ed d\u1ee5:<ul><li><code>Store (BDAT, )<\/code><\/li><\/ul><\/li><\/ul><\/li><li>Khi check l\u1ed7i m\u00e0 c\u00f3 d\u1ea1ng l\u00e0 <code>Store( ,&lt;variableOrig&gt;)<\/code><ul><li>th\u00ec n\u00f3 s\u1ebd thu\u1ed9c method WECB<\/li><li>V\u00ed d\u1ee5:<ul><li><code>Store ( ,BDAT)<\/code><\/li><\/ul><\/li><\/ul><\/li><\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code># RECB\n# utility methods to read\/write buffers from\/to EC\ninto method label RE1B parent_label EC remove_entry;\ninto method label RECB parent_label EC remove_entry;\ninto device label EC insert\nbegin\nMethod (RE1B, 1, NotSerialized)\\n\n{\\n\n    OperationRegion(ERAM, EmbeddedControl, Arg0, 1)\\n\n    Field(ERAM, ByteAcc, NoLock, Preserve) { BYTE, 8 }\\n\n    Return(BYTE)\\n\n}\\n\nMethod (RECB, 2, Serialized)\\n\n\/\/ Arg0 - offset in bytes from zero-based EC\\n\n\/\/ Arg1 - size of buffer in bits\\n\n{\\n\n    ShiftRight(Add(Arg1,7), 3, Arg1)\\n\n    Name(TEMP, Buffer(Arg1) { })\\n\n    Add(Arg0, Arg1, Arg1)\\n\n    Store(0, Local0)\\n\n    While (LLess(Arg0, Arg1))\\n\n    {\\n\n        Store(RE1B(Arg0), Index(TEMP, Local0))\\n\n        Increment(Arg0)\\n\n        Increment(Local0)\\n\n    }\\n\n    Return(TEMP)\\n\n}\\n\nend;\n\n#WECB\ninto method label WE1B parent_label EC remove_entry;\ninto method label WECB parent_label EC remove_entry;\ninto device label EC insert\nbegin\nMethod (WE1B, 2, NotSerialized)\\n\n{\\n\n    OperationRegion(ERAM, EmbeddedControl, Arg0, 1)\\n\n    Field(ERAM, ByteAcc, NoLock, Preserve) { BYTE, 8 }\\n\n    Store(Arg1, BYTE)\\n\n}\\n\nMethod (WECB, 3, Serialized)\\n\n\/\/ Arg0 - offset in bytes from zero-based EC\\n\n\/\/ Arg1 - size of buffer in bits\\n\n\/\/ Arg2 - value to write\\n\n{\\n\n    ShiftRight(Add(Arg1,7), 3, Arg1)\\n\n    Name(TEMP, Buffer(Arg1) { })\\n\n    Store(Arg2, TEMP)\\n\n    Add(Arg0, Arg1, Arg1)\\n\n    Store(0, Local0)\\n\n    While (LLess(Arg0, Arg1))\\n\n    {\\n\n        WE1B(Arg0, DerefOf(Index(TEMP, Local0)))\\n\n        Increment(Arg0)\\n\n        Increment(Local0)\\n\n    }\\n\n}\\n\nend;<\/code><\/pre>\n\n\n\n<p>B6: Ta ti\u1ebfn h\u00e0nh vi\u1ebft patch. T\u01b0\u01a1ng t\u1ef1 nh\u01b0 tr\u01b0\u1eddng 16 bit v\u00e0 32 bit vi\u1ec7c \u0111\u1ea7u ti\u00ean ta c\u1ea7n l\u00e0m l\u00e0 x\u00e1c \u0111\u1ecbnh \u0111o\u1ea1n code l\u1ed7i n\u1eb1m \u1edf method n\u00e0o.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/Bkr1BfD.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>Nh\u01b0 \u1ea3nh th\u00ec ta c\u00f3 th\u1ec3 th\u1ea5y \u0111o\u1ea1n code l\u1ed7i n\u1eb1m \u1edf method <code>SMBR<\/code>. Ti\u1ebfn h\u00e0nh vi\u1ebft patch:<\/p>\n\n\n\n<ul><li>WECB<ul><li>C\u00fa ph\u00e1p chung: <ul><li><code>into method label &lt;method&gt; code_regex Store\\s+((.*),\\s+&lt;variableOrig&gt;) replaceall_matched begin WECB(&lt;offset&gt;,&lt;size&gt;,%1) end;<\/code><\/li><\/ul><\/li><\/ul><ul><li>V\u00ed d\u1ee5:<ul><li><code>into method label SMBR code_regex Store\\s+((.*),\\s+BDAT) replaceall_matched begin WECB(0x1c,256,%1) end;<\/code><\/li><li>Gi\u1ea3i th\u00edch c\u00fa ph\u00e1p:<ul><li><code>into method label SMBR code_regex Store\\s+((.*),\\s+BDAT)<\/code>: t\u1ee9c l\u00e0 s\u1ebd t\u00ecm trong method <code>SMBR<\/code>  \u0111o\u1ea1n code <code>Store (zero, BDAT)<\/code> (k\u00ed hi\u1ec7u <code>.*<\/code> t\u1ee9c l\u00e0 \u0111o\u1ea1n code s\u1ebd l\u1ea5y gi\u00e1 tr\u1ecb \u1edf tr\u01b0\u1edbc tr\u01b0\u1eddng <code>BDAT<\/code> trong \u0111o\u1ea1n code \u1edf DSDT)<\/li><li><code>replaceall_matched begin WECB(0x1c,256,%1) end;<\/code>: t\u1ee9c l\u00e0 t\u1ea5t c\u1ea3 \u0111o\u1ea1n code \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y \u1edf tr\u00ean s\u1ebd \u0111\u01b0\u1ee3c thay th\u1ebf b\u1eb1ng <code>(0x1c,256,zero)<\/code> (k\u00ed hi\u1ec7u <code>%1<\/code> c\u00f3 ngh\u0129a l\u00e0 l\u1ea5y ph\u1ea7n t\u1eed T1 trong \u0111o\u1ea1n code \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y)<\/li><\/ul><\/li><\/ul><\/li><\/ul><\/li><\/ul>\n\n\n\n<ul><li>RECB<ul><li>C\u00fa ph\u00e1p chung: <ul><li><code>into method label &lt;method&gt; code_regex (variableOrig, replaceall_matched begin (RECB(&lt;offset&gt;,&lt;size&gt;), end;<\/code><\/li><\/ul><\/li><li>V\u00ed d\u1ee5: <ul><li><code>into method label SMBR code_regex (BDAT, replaceall_matched begin (RECB(0x1c,256), end;<\/code><\/li><li>Gi\u1ea3i th\u00edch c\u00fa ph\u00e1p:<ul><li><code>into method label SMBR code_regex (BDAT,<\/code>: t\u1ee9c l\u00e0 s\u1ebd t\u00ecm trong method SMBR \u0111o\u1ea1n code <code>(BDAT,<\/code><\/li><li><code>replaceall_matched begin (RECB(0x1c,256), end;<\/code>: t\u1ee9c l\u00e0 s\u1ebd thay th\u1ebf t\u1ea5t c\u1ea3 c\u00e1c \u0111o\u1ea1n code \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y trong method SMBR b\u1eb1ng <code>(RECB(0x1c,256),<\/code><\/li><\/ul><\/li><\/ul><\/li><\/ul><\/li><\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ Patch tay\n# RECB\n  \/\/ before\nStore (BDAT, Index (Local0, 0x02))\n \/\/ after\nStore (RECB(0x1c,256), Index (Local0, 0x02))\n\n# WECB\n \/\/ before\nStore (Zero, BDAT)\n \/\/ after\nWECB(0x1c,256,Zero)\n\n\/\/ Trong \u0111\u00f3 0x1c l\u00e0 offset 256 l\u00e0 dung l\u01b0\u1ee3ng t\u00ednh b\u1eb1ng bit c\u1ee7a tr\u01b0\u1eddng BDAT<\/code><\/pre>\n\n\n\n<p><strong>Ch\u00fa \u00fd:<\/strong><\/p>\n\n\n\n<ul><li><strong>&lt;offset&gt;: l\u00e0 offset m\u00e0 b\u1ea1n \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf B4<\/strong><\/li><li><strong>&lt;method&gt;: l\u00e0 method m\u00e0 b\u1ea1n \u0111\u00e3 x\u00e1c \u0111\u1ecbnh \u1edf B6 <\/strong><\/li><\/ul>\n\n\n\n<p>Sau khi l\u00e0m xong ta s\u1ebd c\u00f3:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label SMBR code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label SMBR code_regex \\(BDAT, replaceall_matched begin (RECB(0x1c,256), end;\n\ninto method label SMBW code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex \\(BDAT, replaceall_matched begin (RECB(0x1c,256), end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDA2\\) replaceall_matched begin WECB(0x44,256,%1) end;\n\ninto method label ECSB code_regex \\(BDA2, replaceall_matched begin (RECB(0x44,256), end;<\/code><\/pre>\n\n\n\n<p>B7: Apply patch v\u00e0o DSDT.<\/p>\n\n\n\n<p>B8: \u0110\u1ed1i v\u1edbi 1 s\u1ed1 d\u00f2ng Asus th\u00ec b\u1ea1n c\u1ea7n th\u00eam patch &nbsp;<code>Logic bug with charging\/discharging status<\/code><\/p>\n\n\n\n<p>V\u00ec 1 s\u1ed1 laptop ASUS c\u00f3 th\u1ec3 g\u1eb7p t\u00ecnh tr\u1ea1ng khi s\u1ea1c \u0111\u1ea7y nh\u01b0ng h\u1ec7 th\u1ed1ng v\u1eabn b\u00e1o ch\u01b0a \u0111\u1ea7y ho\u1eb7c khi h\u1ebft pin nh\u01b0ng h\u1ec7 th\u1ed1ng v\u1eabn b\u00e1o ch\u01b0a h\u1ebft pin d\u1eabn \u0111\u1ebfn c\u00e1c l\u1ed7i nh\u01b0 s\u1eadp ngu\u1ed3n b\u1ea5t ch\u1ee3t ( l\u1ed7i n\u00e3y v\u1eabn c\u00f3 th\u1ec3 x\u1ea3y ra \u1edf 1 s\u00f3 m\u00e1y model kh\u00e1c ) c\u00e1ch fix l\u00e0 c\u00e1c b\u1ea1n add \u0111o\u1ea1n sau v\u00e0o:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label FBST code_regex If\\s\\(CHGS\\s\\(Zero\\)\\)&#91;\\s]+\\{&#91;\\s]+Store\\s\\(0x02,\\sLocal0\\)&#91;\\s]+\\}&#91;\\s]+Else&#91;\\s]+\\{&#91;\\s]+Store\\s\\(One,\\sLocal0\\)&#91;\\s]+\\} replaceall_matched begin\nIf (CHGS (Zero))\\n\n{\\n\n     Store (0x02, Local0)\\n\n}\\n\nElse\\n\n{\\n\n     Store (Zero, Local0)\\n\n}\nend;<\/code><\/pre>\n\n\n\n<p>Sau khi l\u00e0m xong t\u1ea5t c\u1ea3 c\u00e1c ph\u1ea7n tr\u00ean ta s\u1ebd c\u00f3 \u0111o\u1ea1n patch sau:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#Rename field EC\nDT2B,   16  ==&gt;  T2B1,T2B2\nTAH0,   16,  ==&gt; AH01,AH02\nTAH1,   16,  ==&gt; AH11,AH12\nB0C3,   16, ==&gt; B0CX, B0CK\nB0SN,   16, ==&gt; B0SX,B0SK\nB1SN,   16 ==&gt; B1SX,B1SK\nBDAT,   256, ==&gt; DATX\nBDA2,   256,  ==&gt; DA2X\n\n#16 bit convert 8 bit\ninto device label EC code_regex DT2B,\\s+16 replace_matched begin T2B1,8,T2B2,8, end;\ninto device label EC code_regex TAH0,\\s+16, replace_matched begin AH01,8,AH02,8, end;\ninto device label EC code_regex TAH1,\\s+16, replace_matched begin AH11,8,AH12,8, end;\ninto device label EC code_regex B0C3,\\s+16, replace_matched begin B0CX,8,B0CK,8, end;\ninto device label EC code_regex B0SN,\\s+16, replace_matched begin B0SX,8,B0SK,8, end;\ninto device label EC code_regex B1SN,\\s+16 replace_matched begin B1SX,8,B1SK,8, end;\n#into b1b2 method\ninto method label B1B2 remove_entry;\ninto definitionblock code_regex . insert\nbegin\nMethod (B1B2, 2, NotSerialized) { Return(Or(Arg0, ShiftLeft(Arg1, 8))) }\\n\nend;\n#fix 16 bit error\ninto method label _BIX code_regex \\^\\^LPCB\\.EC\\.B0C3, replaceall_matched begin B1B2(^\\^LPCB\\.EC\\.B0CX, ^\\^LPCB\\.EC\\.B0CK), end;\n\ninto method label BIFA code_regex \\(B1SN, replaceall_matched begin (B1B2(B1SX,B1SK), end;\n\ninto method label BIFA code_regex \\(B0SN, replaceall_matched begin (B1B2(B0SX,B0SK), end;\n\ninto method label SMBR code_regex \\(DT2B, replaceall_matched begin (B1B2(T2B1,T2B2), end;\n\ninto method label SMBW code_regex \\DT2B\\) replaceall_matched begin B1B2(T2B1,T2B2)) end;\n\ninto method label TACH code_regex \\(TAH0, replaceall_matched begin (B1B2(AH01,AH02), end;\n\ninto method label TACH code_regex \\(TAH1, replaceall_matched begin (B1B2(AH11,AH12), end;\n\n#Patch 32 bit\n\ninto device label EC code_regex (BDAT,)\\s+(256) replace_matched begin DATX,%2,\/\/%1%2 end;\ninto device label EC code_regex (BDA2,)\\s+(256) replace_matched begin DA2X,%2,\/\/%1%2 end;\n\n#x\u00e1c \u0111\u1ecbnh offset\n\nBDAT: 24 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) + (8\/8) = 28 = 0x1c\nBDA2: 64 + (8\/8) + (5\/8) + (1\/8) + (1\/8) + (1\/8) + (8\/8) + (8\/8) = 68 = 0x44\n\n#fix 32 bit error\n\ninto method label SMBR code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label SMBR code_regex \\(BDAT, replaceall_matched begin (RECB(0x1c,256), end;\n\ninto method label SMBW code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDAT\\) replaceall_matched begin WECB(0x1c,256,%1) end;\n\ninto method label ECSB code_regex \\(BDAT, replaceall_matched begin (RECB(0x1c,256), end;\n\ninto method label ECSB code_regex Store\\s+\\((.*),\\s+BDA2\\) replaceall_matched begin WECB(0x44,256,%1) end;\n\ninto method label ECSB code_regex \\(BDA2, replaceall_matched begin (RECB(0x44,256), end;\n\n#32 bit field\nBTY0,   32, ==&gt; TY01,TY02,TY03,TY04\nBTY1,   32, ==&gt; TY11,TY12,TY13,TY14\n\n#32 bit convert to 8 bit\ninto device label EC code_regex BTY0,\\s+32 replace_matched begin TY01,8,TY02,8,TY03,8,TY04,8 end;\ninto device label EC code_regex BTY1,\\s+32 replace_matched begin TY11,8,TY12,8,TY13,8,TY14,8 end;\n<\/code><\/pre>\n\n\n\n<p><strong>File cho c\u00e1c b\u1ea1n tham kh\u1ea3o: <a href=\"https:\/\/github.com\/king-dragon\/EFI-asusx450c\/blob\/main\/DSDT-orig.dsl\">DSDT-Orig<\/a>, <a href=\"https:\/\/github.com\/king-dragon\/EFI-asusx450c\/blob\/main\/DSDT-patch.dsl\">DSDT-patched<\/a><\/strong><\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd: B\u1ea1n n\u00ean tr\u00edch DSDT ra SSDT theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\">t\u1ea1i \u0111\u00e2y<\/a>. V\u00ec n\u1ebfu d\u00f9ng DSDT th\u00ec khi update bios c\u00e1c patch s\u1ebd b\u1ecb m\u1ea5t t\u00e1c d\u1ee5ng. Ho\u1eb7c b\u1ea1n c\u00f3 th\u1ec3 save file patched.txt l\u1ea1i \u0111\u1ec3 apply l\u1ea1i v\u00e0o DSDT khi update <\/strong>BIOS.<\/p>\n\n\n\n<p><strong>Source tham kh\u1ea3o: <a href=\"https:\/\/www.tonymacx86.com\/threads\/guide-how-to-patch-dsdt-for-working-battery-status.116102\/\">[Guide] How to patch DSDT for working battery status | tonymacx86.com<\/a> | <a href=\"https:\/\/www.olarila.com\/topic\/5673-guide-laptop-battery-indicator-the-dsdt-patching-horror\/\">[Guide] Laptop Battery Indicator &#8211; The DSDT Patching Horror &#8211; Page 14 &#8211; Guides and Tutorials &#8211; Olarila<\/a> ( thank you )<\/strong><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Danh m\u1ee5c I: T\u00ecm hi\u1ec3u thu\u1eadt ng\u1eef&nbsp;II : Ti\u1ebfn h\u00e0nh C\u00e1ch 1: D\u00f9ng kext ECEnablerC\u00e1ch 2: D\u00f9ng c\u00e1c patch s\u1eb5n c\u1ee7a RehabMan C\u00e1ch 3: Static patchP1: X\u00e1c \u0111\u1ecbnh ph\u1ea7n c\u1ea7n patch:P2: Patch c\u00e1c tr\u01b0\u1eddng 16 bit v\u00e0 32 bitTr\u01b0\u1eddng 16 bit:Tr\u01b0\u1eddng 32 bitP3: Patch c\u00e1c tr\u01b0\u1eddng l\u1edbn h\u01a1n 32 bit I: T\u00ecm hi\u1ec3u thu\u1eadt ng\u1eef&nbsp; [&#8230;]\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[48],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v18.5.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>IV. Patch pin - Heavietnam April 2022<\/title>\n<meta name=\"description\" content=\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"IV. Patch pin - Heavietnam April 2022\" \/>\n<meta property=\"og:description\" content=\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\" \/>\n<meta property=\"og:url\" content=\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/\" \/>\n<meta property=\"og:site_name\" content=\"Heavietnam\" \/>\n<meta property=\"article:published_time\" content=\"2021-09-29T04:29:07+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-04-16T14:20:25+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"19 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/heavietnam.ga\/#organization\",\"name\":\"heavietnam team\",\"url\":\"https:\/\/heavietnam.ga\/\",\"sameAs\":[],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/heavietnam.ga\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"\",\"contentUrl\":\"\",\"caption\":\"heavietnam team\"},\"image\":{\"@id\":\"https:\/\/heavietnam.ga\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/heavietnam.ga\/#website\",\"url\":\"https:\/\/heavietnam.ga\/\",\"name\":\"Heavietnam\",\"description\":\"Everythingforhackintosher\",\"publisher\":{\"@id\":\"https:\/\/heavietnam.ga\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/heavietnam.ga\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0\",\"contentUrl\":\"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage\",\"url\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/\",\"name\":\"IV. Patch pin - Heavietnam April 2022\",\"isPartOf\":{\"@id\":\"https:\/\/heavietnam.ga\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage\"},\"datePublished\":\"2021-09-29T04:29:07+00:00\",\"dateModified\":\"2022-04-16T14:20:25+00:00\",\"description\":\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\",\"breadcrumb\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/heavietnam.ga\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"IV. Patch pin\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage\"},\"author\":{\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc\"},\"headline\":\"IV. Patch pin\",\"datePublished\":\"2021-09-29T04:29:07+00:00\",\"dateModified\":\"2022-04-16T14:20:25+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage\"},\"wordCount\":2314,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/heavietnam.ga\/#organization\"},\"image\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0\",\"articleSection\":[\"post install\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/heavietnam.ga\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g\",\"caption\":\"admin\"},\"sameAs\":[\"https:\/\/heavietnam.ga\"],\"url\":\"https:\/\/heavietnam.ga\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"IV. Patch pin - Heavietnam April 2022","description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/","og_locale":"en_US","og_type":"article","og_title":"IV. Patch pin - Heavietnam April 2022","og_description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","og_url":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/","og_site_name":"Heavietnam","article_published_time":"2021-09-29T04:29:07+00:00","article_modified_time":"2022-04-16T14:20:25+00:00","og_image":[{"url":"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0"}],"twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"19 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/heavietnam.ga\/#organization","name":"heavietnam team","url":"https:\/\/heavietnam.ga\/","sameAs":[],"logo":{"@type":"ImageObject","@id":"https:\/\/heavietnam.ga\/#logo","inLanguage":"en-US","url":"","contentUrl":"","caption":"heavietnam team"},"image":{"@id":"https:\/\/heavietnam.ga\/#logo"}},{"@type":"WebSite","@id":"https:\/\/heavietnam.ga\/#website","url":"https:\/\/heavietnam.ga\/","name":"Heavietnam","description":"Everythingforhackintosher","publisher":{"@id":"https:\/\/heavietnam.ga\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/heavietnam.ga\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage","inLanguage":"en-US","url":"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0","contentUrl":"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0"},{"@type":"WebPage","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage","url":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/","name":"IV. Patch pin - Heavietnam April 2022","isPartOf":{"@id":"https:\/\/heavietnam.ga\/#website"},"primaryImageOfPage":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage"},"datePublished":"2021-09-29T04:29:07+00:00","dateModified":"2022-04-16T14:20:25+00:00","description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","breadcrumb":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/heavietnam.ga\/"},{"@type":"ListItem","position":2,"name":"IV. Patch pin"}]},{"@type":"Article","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#article","isPartOf":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage"},"author":{"@id":"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc"},"headline":"IV. Patch pin","datePublished":"2021-09-29T04:29:07+00:00","dateModified":"2022-04-16T14:20:25+00:00","mainEntityOfPage":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#webpage"},"wordCount":2314,"commentCount":0,"publisher":{"@id":"https:\/\/heavietnam.ga\/#organization"},"image":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#primaryimage"},"thumbnailUrl":"https:\/\/lh5.googleusercontent.com\/3f9UFToVOlHMlbvcR3Dhw7mmzks3wz6spyFUlhVzf9MbUW20gUIkNc5SqjugE4iDEEDKxm00NB1KRlpLvMys_T08tuSU_ZAD7-wCh5zvTIriY0rL2O5zbI_34jE9XOviY81apmgo=s0","articleSection":["post install"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/heavietnam.ga\/2021\/09\/29\/iv-patch-pin\/#respond"]}]},{"@type":"Person","@id":"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc","name":"admin","image":{"@type":"ImageObject","@id":"https:\/\/heavietnam.ga\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g","caption":"admin"},"sameAs":["https:\/\/heavietnam.ga"],"url":"https:\/\/heavietnam.ga\/author\/admin\/"}]}},"_links":{"self":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/79"}],"collection":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/comments?post=79"}],"version-history":[{"count":20,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/79\/revisions"}],"predecessor-version":[{"id":3036,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/79\/revisions\/3036"}],"wp:attachment":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/media?parent=79"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/categories?post=79"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/tags?post=79"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}