{"id":90,"date":"2021-09-29T04:33:22","date_gmt":"2021-09-29T04:33:22","guid":{"rendered":"https:\/\/heavietnam.ga\/?p=90"},"modified":"2021-09-29T08:40:19","modified_gmt":"2021-09-29T08:40:19","slug":"vi-3fix-power-manager","status":"publish","type":"post","link":"https:\/\/heavietnam.ga\/2021\/09\/29\/vi-3fix-power-manager\/","title":{"rendered":"\u00a0VI.3 Fix power manager"},"content":{"rendered":"\n<p>\u1ede \u0111\u00e2y m\u00ecnh s\u1ebd chia n\u00f3 l\u00e0m 2 ph\u1ea7n l\u00e0 \u0111\u1ed1i v\u1edbi c\u00e1ch chip gen 4 tr\u1edf l\u00ean v\u00e0 gen 3 tr\u1edf xu\u1ed1ng&nbsp;<\/p>\n\n\n\n<ul><li><strong><em>Gen 3 tr\u1edf xu\u1ed1ng:<\/em><\/strong><\/li><\/ul>\n\n\n\n<p><strong>B1<\/strong>: C\u00e1c b\u1ea1n v\u00e0o config ch\u1ec9nh nh\u01b0 sau ACPI -&gt; Delete -&gt;&nbsp; Enabled th\u00e0nh c\u00f3 sau khi ch\u1ec9nh s\u1ebd c\u00f3 d\u1ea1ng nh\u01b0 sau<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh6.googleusercontent.com\/ELm9EXQnTu4dF3RxJcfGNlrRGl1y2Fsog5_vgfGd2aR-9BBLLMRdZDzHKFMSjThhq2mAHLqHKR82po2fPBVYiK2gcJBdqs7XHjMwKv-ss79F7hVYjEXRVCKoTJyzQY5xJDuBkhJH=s0\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh4.googleusercontent.com\/wrxT3Cu1CPyRLlwAuFXocXxn48wgTV6xUauXEOY3KaE4gupWkE4WylWoK6Kt6X4_yo4J-XM6GH48XDAWiV9ezl1_nsvKNqaCa4URCLQAnKVqZxE50EdqYSUmLFeMmu9UIXupG0il=s0\" alt=\"\"\/><\/figure>\n\n\n\n<p><strong>&nbsp;B2<\/strong>: Restart v\u00e0 c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 t\u1ea3i ssdtPRGen theo links sau<\/p>\n\n\n\n<p>&nbsp;<a href=\"https:\/\/github.com\/Piker-Alpha\/ssdtPRGen.sh\">GitHub &#8211; Piker-Alpha\/ssdtPRGen.sh: Script to generate a SSDT for Power Management<\/a> c\u00e1c b\u1ea1n ch\u1ec9 c\u1ea7n k\u1ebdo fil c\u00f3 extion l\u00e0 .command v\u00f4 terminal r nh\u1ea5n enter n\u1ebfu ko ch\u1ea1y c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 g\u00f5 sudo su sau \u0111\u00f3 g\u00f5 l\u1ec7nh nh\u01b0 tr\u00ean<\/p>\n\n\n\n<p><strong>B3<\/strong>: C\u00e1c b\u1ea1n b\u1ecf file ssdt v\u1eeba built v\u00e0o th\u01b0 m\u1ee5c acpi r snaps l\u1ea1i l\u00e0 ok nha&nbsp;<\/p>\n\n\n\n<p><strong>B4<\/strong>: C\u00e1c b\u1ea1n v\u00e0o ACPI \u21d2&nbsp; Delete \u21d2 &nbsp; Enabled v\u00e0 ch\u1ec9nh th\u00e0nh no v\u00e0 restart nh\u01b0 th\u1ebf l\u00e0 xong nha<\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd :\u0111\u1ed1i v\u1edbi v\u1edbi ivy-birdge n\u1ebfu c\u00e1c b\u1ea1n l\u00e0m nh\u01b0 tr\u00ean m\u00e0 t\u1ea1ch th\u00ec l\u00e0m nh\u01b0 sau :<\/strong><\/p>\n\n\n\n<p><strong>B1: b\u1eadt config \u21d2 root \u21d2 kernel \u21d2 quicks \u21d2 AppleCpuPmCfgLock \/ AppleXcpmCfgLock \/ AppleXcpmExtraMsrs | bootclean | true&nbsp;<\/strong><\/p>\n\n\n\n<p><strong>( ho\u1eb7c t\u1eaft cfgclock trong config )<\/strong><\/p>\n\n\n\n<p><strong>B2 : c\u00e1c b\u1ea1n t\u1ea3i file v\u1ec1 <\/strong><a href=\"https:\/\/drive.google.com\/file\/d\/1xjAcZhTHY83WMuJoPvpQuJWb7RVgyL2J\/view?usp=sharing\"><strong>t\u1ea1i \u0111\u00e2y<\/strong><\/a><\/p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh5.googleusercontent.com\/IDHWdoDZrGbnoX9aJ-VLtDdwKs5-Nx4p8LQnYfB7edahL8CbEk6pRuNR4Z8l9J3WbuJ3ps5lt3HWa5Eih8Rh5YB0mKazqW0liEzlGfsTvCCJQl9RyGjth1WuDF4loVVWLob53hsf=s0\" alt=\"\"\/><\/figure>\n\n\n\n<p><strong>B3 : c\u00e1c b\u1ea1n copy m\u1ee5c \u201c0\u201d trong file v\u00e0o config \u21d2 root \u21d2 kernel \u21d2 patch&nbsp;<\/strong><\/p>\n\n\n\n<p><strong>B4: c\u00e1c b\u1ea1n t\u1ea3i file ssdtprgen theo links tr\u00ean v\u00e0 g\u00f5 l\u1ec7nh sau&nbsp;<\/strong><\/p>\n\n\n\n<p><strong>[k\u00e9o file ssdt-prgen.sh v\u00e0o] -x 1<\/strong><\/p>\n\n\n\n<p><strong>B5: c\u00e1 b\u1ea1n k\u00e9o file \u201cssdt.aml\u201d v\u1eeba gen ra v\u00e0o EFI \u21d2 ACPI ( d\u00f9ng ssdt plug nh\u01b0 gen 4 v\u1eabn \u0111\u01b0\u1ee3c do c\u00e1c b\u1ea1n \u0111\u00e3 enable xcpm | n\u00ean s\u1eeda t\u00ean l\u1ea1i l\u00e0 SSDT-PM )<\/strong><\/p>\n\n\n\n<p><strong>B6: save l\u1ea1i v\u00e0 restart&nbsp;<\/strong><\/p>\n\n\n\n<h2>Clover<\/h2>\n\n\n\n<p>c\u00e1c b\u1ea1n chuy\u1ec3n patch <a href=\"https:\/\/drive.google.com\/file\/d\/1xjAcZhTHY83WMuJoPvpQuJWb7RVgyL2J\/view?usp=sharing\">t\u1ea1i \u0111\u00e2y<\/a> th\u00e0nh patch c\u1ee7a clover theo quy t\u1eaft sau<\/p>\n\n\n\n<ul><li>comment : s\u1eed d\u1ee5ng cho c\u1ea3 opencore v\u00e0 clover<\/li><li>Disabled : t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\u1ee5c enable ben opencore<\/li><li>MatchBuild : \u0111\u01b0\u1ee3c thay th\u1ebf b\u1eb1ng minkernel v\u00e0 maxkernel ( c\u00e1c b\u1ea1n d\u00f9ng trang sau \u0111\u1ec3 search  version Darwin <a href=\"https:\/\/en.wikipedia.org\/wiki\/Darwin_(operating_system)\">https:\/\/en.wikipedia.org\/wiki\/Darwin_(operating_system)<\/a> )<\/li><li>MatchOS : <\/li><li>\u0111\u01b0\u1ee3c thay th\u1ebf b\u1eb1ng minkernel v\u00e0 maxkernel ( c\u00e1c b\u1ea1n d\u00f9ng trang sau \u0111\u1ec3 search  version Darwin <a href=\"https:\/\/en.wikipedia.org\/wiki\/Darwin_(operating_system)\">https:\/\/en.wikipedia.org\/wiki\/Darwin_(operating_system)<\/a> )<\/li><li>Find : c\u00f3 \u1edf opencore v\u00e0 clover<\/li><li>Replace : c\u00f3 c\u1ea3 \u1edf opencore v\u00e0 clover<\/li><li>MaskFind : opencore s\u1eed d\u1ee5ng mask \u0111\u1ec3 thay th\u1ebf<\/li><li>Mask replace : c\u00f3 c\u1ea3 \u1edf opencore v\u00e0 clover<\/li><li>count ,limit, skip th\u01b0\u1eddng \u0111\u01b0\u1ee3c \u0111\u1eb7t th\u00e0nh 0<\/li><li>Identifier th\u01b0\u1eddng \u0111\u01b0\u1ee3c \u0111\u1eb7t th\u00e0nh kernel ( tr\u00f4ng 1 s\u1ed1 tr\u01b0\u1eddng h\u1ee3p khi b\u1ea1n patch kext n\u00e0o th\u00ec s\u1ebd \u0111\u1ec3 \u0111\u01b0\u1eddng d\u1eabn theo kext \u0111\u00f3 vd nh\u01b0 com.apple.iokit.IOGraphicsFamily )<\/li><\/ul>\n\n\n\n<p><strong>L\u01b0u \u00fd 2 : source tham kh\u1ea3o <\/strong><a href=\"https:\/\/www.hackintosh-forum.de\/forum\/thread\/53009-guide-x86platformplugin-xcpm-f%C3%BCr-ivy-bridge-cpus-unter-catalina-und-big-sur-akti\/\"><strong>[GUIDE] X86PlatformPlugin (XCPM) f\u00fcr Ivy Bridge CPUs unter Catalina und Big Sur aktivieren &#8211; Anleitungen und Builds &#8211; Hackintosh-Forum &#8211; Deine Anlaufstelle f\u00fcr Hackintosh &amp; mehr&#8230;<\/strong><\/a><\/p>\n\n\n\n<p><\/p>\n\n\n\n<ul><li><strong><em>Gen 4 tr\u1edf l\u00ean :<\/em><\/strong><\/li><\/ul>\n\n\n\n<ul><li><strong>Chu\u1ea9n b\u1ecb : c\u00e1c b\u1ea1n h\u00e3y ch\u1eafc r\u1eb1ng \u0111\u00e3 c\u00f3 <\/strong><strong>SSDT-PLUG v\u00e0&nbsp; <\/strong><a href=\"https:\/\/github.com\/khronokernel\/IORegistryClone\/blob\/master\/ioreg-302.zip\">IORegistryExplorer<\/a>, <a href=\"https:\/\/github.com\/acidanthera\/CPUFriend\/releases\">CPUFriend<\/a>, <a href=\"https:\/\/github.com\/corpnewt\/CPUFriendFriend\">CPUFriendFriend<\/a><\/li><li><a href=\"https:\/\/github.com\/corpnewt\/CPUFriendFriend\"><strong>Ti\u1ebfn h\u00e0nh:<\/strong><\/a><\/li><\/ul>\n\n\n\n<p><strong>B1<\/strong>: B\u00e2y gi\u1edd h\u00e3y ch\u1ea1y CPUFriendFriend.command<\/p>\n\n\n\n<p><strong>B2<\/strong>: ch\u1ecdn gi\u00e1 tr\u1ecb LPM theo b\u1ea3ng sau<img loading=\"lazy\" src=\"https:\/\/lh3.googleusercontent.com\/TJfaRqAM6CkpHEn9ZIr0kzO9ahvDRcRPF7tfxuxoYjnz0aCYQ3OudMqPfd5mX6Xa9Mtjsv1Xcfw5JavltY1kpE-J1dFea0wAvo1IVSNR1ckuldTv7Z8qQEGoQ5BCFASuy0uHlbuH=s0\" width=\"602\" height=\"207\"><\/p>\n\n\n\n<p><strong>B3<\/strong>: Sau khi l\u00e0m xong ch\u00fang ta s\u1ebd ti\u1ebfp t\u1edbi ph\u1ea7n EPP:<\/p>\n\n\n\n<p>Khi l\u00e0m xong b\u01b0\u1edbc tr\u00ean b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c 1 b\u1ea3n nh\u01b0 sau :<img loading=\"lazy\" src=\"https:\/\/lh4.googleusercontent.com\/GU4LoweuQ6PaIfRY916sdSjEx3IKOK6rfv4DU1zBMPj3YzNJsr4PuO57_pi3-90Euyq_wejDFPDtSVrsRAIzQvZ0pFmjSnOHJ_E3y6Arycx8lwj764XnkY-GeiYmIZHSMw1eJnHv=s0\" width=\"602\" height=\"421\"><\/p>\n\n\n\n<p>N\u00f3 c\u00f3 ngh\u0129a l\u00e0&nbsp;<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh5.googleusercontent.com\/v8VrIV5S-h_B6zz1hnU9ssml0tjJFNoAWP2BPjcpx6D7BVWRXtZy8aws8NmH_kD767ERDzXehr2cM0vU_I0uyw9rtdITrWwA0PjiFiJ-2Glt5Rsyqo6S9Bs4Bf0dL-20Vxs5ApYW=s0\" alt=\"\"\/><\/figure>\n\n\n\n<p>Ch\u1ecdn theo b\u1ea3ng sau t\u00f9y theo nhu c\u1ea7u ( nh\u1eadp 2 k\u00ed t\u1ef1 sau d\u1ea5u X)<\/p>\n\n\n\n<p>L\u01b0u \u00fd: Ch\u1ec9 skylake v\u00e0 SMBIOS m\u1edbi h\u01a1n m\u1edbi ch\u00ednh th\u1ee9c h\u1ed7 tr\u1ee3 EPP<\/p>\n\n\n\n<p><strong>B4<\/strong>: Sau khi l\u00e0m xong b\u1ea1n \u0111\u00e3 s\u1ebd \u0111\u01b0\u1ee3c b\u1ea3n d\u01b0\u1edbi \u0111\u00e2y M\u1ee5c nh\u1eadp cu\u1ed1i c\u00f9ng n\u00e0y l\u00e0 \u0111\u1ec3 gi\u00fap macOS t\u00ecm ra lo\u1ea1i hi\u1ec7u su\u1ea5t t\u1ed5ng th\u1ec3 b\u1ea1n mu\u1ed1n t\u1eeb CPU c\u1ee7a m\u00ecnh. \u0110\u1ec1 xu\u1ea5t chung ph\u1ee5 thu\u1ed9c v\u00e0o thi\u1ebft l\u1eadp ch\u00ednh x\u00e1c c\u1ee7a b\u1ea1n v\u00e0 th\u1eed nghi\u1ec7m gi\u00fap t\u00ecm ra nh\u1eefng g\u00ec t\u1ed1t nh\u1ea5t cho b\u1ea1n.<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"https:\/\/lh4.googleusercontent.com\/Yy2wIXGofrDLkj7Al9n7aCbY_DMKzOIK5NuX2mJ94YYKI-io25e4LJ8z6ncihCYawoXgqRT1sWJ_cMGOtKOL9obGjqRk6NMhiY-BKltRPC7fNETtM16jbl7EBnysnXimJyP7Rru4=s0\" alt=\"\"\/><\/figure>\n\n\n\n<p>Sau khi ho\u00e0n t\u1ea5t, b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c cung c\u1ea5p CPUFriendDataProvider.kext,CPUFriend v\u00e0 ssdt_data.aml. t\u00f9y b\u1ea1n ch\u1ecdn nh\u01b0ng m\u00ecnh&nbsp; khuy\u00ean b\u1ea1n n\u00ean bi\u1ebfn th\u1ec3 kext \u0111\u1ec3 tr\u00e1nh b\u1ea5t k\u1ef3 kh\u00f3 kh\u0103n n\u00e0o n\u00e0o v\u1edbi vi\u1ec7c ti\u00eam d\u1eef li\u1ec7u v\u00e0o Windows v\u00e0 Linux ( nh\u1eadp 2 k\u00ed t\u1ef1 cu\u1ed1i) .<\/p>\n\n\n\n<p>h\u00e3y b\u1ecf ch\u00fang v\u00e0o m\u1ee5c acpi v\u00e0 m\u1ee5c kext trong efi sau \u0111\u00f3 snaps v\u00e0 restart th\u00f4i<\/p>\n\n\n\n<p>C\u00e1ch ki\u1ec3m tra <img loading=\"lazy\" src=\"https:\/\/lh5.googleusercontent.com\/ZMhgP95TiHOyDzoVfO79IEtU8f3tp86qzB1rm5bohlBYwuPaMQ_u_Jse0EJrLRUpJskEEyhD5XXad8V_U6ni2GFFE2OA_cNEyawVtTdNhbWple5v2j4Zv3CQUb1HlHVBx4xZ8wNf=s0\" width=\"602\" height=\"408\"><\/p>\n\n\n\n<p>N\u1ebfu \u0111\u01b0\u1ee3c nh\u01b0 h\u00ecnh th\u00ec ch\u00fac m\u1eebng b\u1ea1n \u0111\u00e3 th\u00e0nh c\u00f4ng ngo\u00e0i CP00@0 n\u00f3 c\u00f3 th\u1ec3 l\u00e0 CPU00@0 ho\u1eb7c l\u00e0 PR00@0 v.v\u2026.<\/p>\n\n\n\n<ul><li><strong>L\u01b0u \u00fd: Th\u1ee9 t\u1ef1 t\u1ea3i kh\u00f4ng quan tr\u1ecdng v\u1edbi CPUFriendDataProvider v\u00ec n\u00f3 ch\u1ec9 l\u00e0 m\u1ed9t kext ch\u1ec9 d\u00e0nh cho plist<\/strong><\/li><li><strong>L\u01b0u \u00fd 2: C\u00e1c v\u1ea5n \u0111\u1ec1 \u0111\u00e1nh th\u1ee9c do CPUFriend c\u00f3 th\u1ec3 l\u00e0 do vect\u01a1 t\u1ea7n s\u1ed1 kh\u00f4ng ch\u00ednh x\u00e1c,&nbsp; c\u00f3 th\u1ec3 x\u1ea3y l\u1ed7i Sleep\/ Wake&nbsp;<\/strong><\/li><li><strong>L\u01b0u \u00fd 3: N\u1ebfu b\u1ea1n ch\u1ecdn s\u1eed d\u1ee5ng ssdt_data.aml, l\u01b0u \u00fd r\u1eb1ng SSDT-PLUG kh\u00f4ng c\u00f2n c\u1ea7n thi\u1ebft n\u1eefa. Tuy nhi\u00ean, thi\u1ebft l\u1eadp cho SSDT n\u00e0y b\u1ecb h\u1ecfng tr\u00ean c\u00e1c n\u1ec1n t\u1ea3ng HEDT nh\u01b0 X99 v\u00e0 X299,&nbsp;<\/strong><\/li><li><strong>v\u00ec v\u1eady m\u00ecnh khuy\u00ean b\u1ea1n n\u00ean SSDT-PLUG v\u1edbi CPUFriendDataProvider.kext thay th\u1ebf.<\/strong><\/li><\/ul>\n\n\n\n<p><strong>(source tham kh\u1ea3o c\u1ee7a c\u00e1ch n\u00e0y&nbsp; l\u00e0 <\/strong><a href=\"https:\/\/dortania.github.io\/OpenCore-Post-Install\/universal\/pm.html#cleaning-up\"><strong>Optimizing Power Management | OpenCore Post-Install (dortania.github.io)<\/strong><\/a><strong> )<\/strong><\/p>\n\n\n\n<ul><li><strong>L\u01b0u \u00fd 4 : c\u00e1c ki\u1ec3m tra tr\u00ean ch\u1ec9 \u0111\u1ed1i v\u1edbi c\u00e1c chip gen 4 tr\u1edf l\u00ean&nbsp;<\/strong><\/li><\/ul>\n\n\n\n<p><strong><em>L\u01b0u \u00fd 5: c\u00e1c b\u1ea1n nh\u1edb d\u00f9ng k\u00e8m ssdt-plug<\/em><\/strong><\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u1ede \u0111\u00e2y m\u00ecnh s\u1ebd chia n\u00f3 l\u00e0m 2 ph\u1ea7n l\u00e0 \u0111\u1ed1i v\u1edbi c\u00e1ch chip gen 4 tr\u1edf l\u00ean v\u00e0 gen 3 tr\u1edf xu\u1ed1ng&nbsp; Gen 3 tr\u1edf xu\u1ed1ng: B1: C\u00e1c b\u1ea1n v\u00e0o config ch\u1ec9nh nh\u01b0 sau ACPI -&gt; Delete -&gt;&nbsp; Enabled th\u00e0nh c\u00f3 sau khi ch\u1ec9nh s\u1ebd c\u00f3 d\u1ea1ng nh\u01b0 sau &nbsp;B2: Restart v\u00e0 c\u00e1c b\u1ea1n [&#8230;]\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[48],"tags":[],"_links":{"self":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/90"}],"collection":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/comments?post=90"}],"version-history":[{"count":0,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/90\/revisions"}],"wp:attachment":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/media?parent=90"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/categories?post=90"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/tags?post=90"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}