{"id":104,"date":"2021-09-29T04:38:40","date_gmt":"2021-09-29T04:38:40","guid":{"rendered":"https:\/\/heavietnam.ga\/?p=104"},"modified":"2022-03-27T17:16:48","modified_gmt":"2022-03-27T10:16:48","slug":"x-cach-fix-hotkey","status":"publish","type":"post","link":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/","title":{"rendered":"X. Fix Hotkeys"},"content":{"rendered":"<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_22 counter-hierarchy counter-decimal\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Danh m\u1ee5c<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#Phan_1_Chuan_bi\" title=\"Ph\u1ea7n 1: Chu\u1ea9n b\u1ecb&nbsp;\">Ph\u1ea7n 1: Chu\u1ea9n b\u1ecb&nbsp;<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#Phan_2_Remap_KeyBoard\" title=\"Ph\u1ea7n 2: Remap KeyBoard\">Ph\u1ea7n 2: Remap KeyBoard<\/a><ul class=\"ez-toc-list-level-3\"><li class=\"ez-toc-heading-level-3\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#Cach_1_Mapping_Keyboard_EC_Query\" title=\"C\u00e1ch 1: Mapping Keyboard EC Query:\">C\u00e1ch 1: Mapping Keyboard EC Query:<\/a><ul class=\"ez-toc-list-level-4\"><li class=\"ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#1_Static_Patch\" title=\"1. Static Patch\">1. Static Patch<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#2_Hotpatch\" title=\"2. Hotpatch\">2. Hotpatch<\/a><\/li><\/ul><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-3\"><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#Cach_2_Fix_BRT6\" title=\"C\u00e1ch 2: Fix BRT6\">C\u00e1ch 2: Fix BRT6<\/a><ul class=\"ez-toc-list-level-4\"><li class=\"ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#1_Static_patch\" title=\"1. Static patch\">1. Static patch<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-4\"><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#2_Hotpatch-2\" title=\"2. Hotpatch\">2. Hotpatch<\/a><\/li><\/ul><\/li><\/ul><\/li><\/ul><\/nav><\/div>\n\n<h2><span class=\"ez-toc-section\" id=\"Phan_1_Chuan_bi\"><\/span>Ph\u1ea7n <strong>1: Chu\u1ea9n b\u1ecb&nbsp;<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p>B1: T\u1ea3i Kext <a href=\"https:\/\/github.com\/RehabMan\/OS-X-ACPI-Debug\">OS-X-ACPI-Debug<\/a>.<\/p>\n\n\n\n<p>B2: Dump DSDT theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\" data-type=\"post\" data-id=\"136\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<p>B3: t\u1ea3i <a href=\"https:\/\/bitbucket.org\/RehabMan\/os-x-maciasl-patchmatic\/downloads\/\">MaciASL<\/a>.<\/p>\n\n\n\n<p>B4: Add <a href=\"https:\/\/github.com\/acidanthera\/BrightnessKeys\">brightness-key.kext<\/a> (n\u1ebfu Asus th\u00ec th\u00eam <a href=\"https:\/\/github.com\/hieplpvip\/AsusSMC\">AsusSMC<\/a> thay cho brightness-key.kext).<\/p>\n\n\n\n<p>B5: T\u1ea3i <a href=\"https:\/\/github.com\/headkaze\/Hackintool\">Hackintool<\/a>.<\/p>\n\n\n\n<p>B6: T\u1ea3i <a href=\"https:\/\/github.com\/corpnewt\/ProperTree\">ProperTree<\/a>.<\/p>\n\n\n\n<h2><span class=\"ez-toc-section\" id=\"Phan_2_Remap_KeyBoard\"><\/span>Ph\u1ea7n 2<strong><em>: Remap KeyBoard<\/em><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<h3><span class=\"ez-toc-section\" id=\"Cach_1_Mapping_Keyboard_EC_Query\"><\/span>C\u00e1ch 1: Mapping Keyboard EC Query:<span class=\"ez-toc-section-end\"><\/span><\/h3>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"1_Static_Patch\"><\/span>1. Static Patch<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>B1: M\u1edf DSDT l\u00ean b\u1eb1ng MaciASL v\u00e0 \u1ea5n t\u1ed5 h\u1ee3p ph\u00edm <code>Command + ,<\/code> v\u00e0 chuy\u1ec3n \u0111\u1ebfn Tab Source ki\u1ec3m tra xem source <code>OS-X-ACPI-Debug<\/code> c\u00f3 \u0111\u01b0\u1ee3c add ch\u01b0a n\u1ebfu ch\u01b0a add th\u00ec add theo URL sau <code>http:\/\/raw.github.com\/RehabMan\/OS-X-ACPI-Debug\/master<\/code><\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/NZkzVNX.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B2: \u1ea4n v\u00e0o tab Patch tr\u00ean giao di\u1ec7n ch\u00ednh c\u1ee7a MaciASL. <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/6gUZFbS.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B3: C\u00e1c b\u1ea1n Apply c\u00e1c patch \u00a0&#8220;Add DSDT Debug Methods&#8221; v\u00e0  &#8220;Instrument EC Queries&#8221; theo \u1ea3nh sau: <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/NEqQLwf.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B4: Save l\u1ea1i v\u00e0 cho DSDT v\u00e0o <code>EFI ==> OC ==> ACPI<\/code> (nh\u1edb Snapshot config) ho\u1eb7c <code>EFI ==> CLOVER ==> ACPI ==> Patched<\/code>.<\/p>\n\n\n\n<p>B5: Restart. <\/p>\n\n\n\n<p>B6: M\u1edf nh\u1ea5n t\u1ed5 h\u1ee3p ph\u00edm <code>Command + Space<\/code> v\u00e0 g\u00f5 <code>console<\/code>.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/Kxs5KgR.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B7 Setting console.app theo \u1ea3nh. <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/sgi0gi3.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B8: B\u1ea1n nh\u1ea5n Hotkey Brightness (nh\u1ea5n li\u00ean t\u1ee5c) v\u00e0 quan s\u00e1t log \u0111\u01b0\u1ee3c dump ra. <\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/04HxSET.png\" alt=\"\"\/><figcaption>\u1ede Catalina-<\/figcaption><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/jWOu4jF.png\" alt=\"\"\/><figcaption>\u1ede Big Sur+<\/figcaption><\/figure>\n\n\n\n<p><strong>L\u01b0u \u00fd: H\u00ecnh \u1ea3nh ch\u1ec9 mang t\u00ednh minh h\u1ecda<\/strong>.<\/p>\n\n\n\n<p>B7: Sau khi l\u00e0m xong B6 ta c\u00f3 \u0111\u01b0\u1ee3c F5 (brightness down) l\u00e0 Q0E v\u00e0 F6(brightness up) l\u00e0 Q0F.<\/p>\n\n\n\n<p>B8: C\u00e1c b\u1ea1n m\u1edf DSDT b\u1eb1ng MaciASL v\u00e0 search <code>KBC0, PS2M, PS2K v\u00e0 KBD0<\/code>.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/0rrg3hC.png\" alt=\"\"\/><\/figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/5Mcfh2L.png\" alt=\"\"\/><\/figure>\n\n\n\n<p><strong>L\u01b0u \u00fd: \u1ede \u0111\u00e2y ta c\u00f3 th\u1ec3 th\u1ea5y khi search th\u00ec nh\u1eadn \u0111\u01b0\u1ee3c 2 device l\u00e0 PS2M v\u00e0 PS2K \u0111\u1ec1u call qua LPCB th\u00ec c\u00e1c b\u1ea1n s\u1ebd d\u00f9ng Windows m\u1edf <code>Device manager --> Keyboard --> BIOS device name<\/code> s\u1ebd th\u1ea5y \u0111\u01b0\u1ee3c patch c\u1ea7n t\u00ecm<\/strong>.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https:\/\/i.imgur.com\/AFmmVZQ.png\" alt=\"\" width=\"629\" height=\"694\"\/><\/figure>\n\n\n\n<p>B9: C\u00e1c b\u1ea1n s\u1ebd copy patch sao v\u00e0o tab patch \u1edf MaciASL.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label <strong>_Q1D<\/strong> replace_content\nbegin\n\/\/ Brightness Down\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2M<\/strong>, 0x0205)\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2M<\/strong>, 0x0285)\\n\nend;\ninto method label <strong>_Q1C<\/strong> replace_content\nbegin\n\/\/ Brightness Up\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2M<\/strong>, 0x0206)\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2M<\/strong>, 0x0286)\\n\nend;<\/code><\/pre>\n\n\n\n<p>B10: C\u00e1c b\u1ea1n s\u1ebd thay c\u00e1c code in \u0111\u1eadm \u1edf tr\u00ean b\u1eb1ng c\u00e1c method v\u00e0 path \u0111\u00e3 t\u00ecm \u0111\u01b0\u1ee3c \u1edf tr\u00ean. <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label <strong>_Q0E<\/strong> replace_content\nbegin\n\/\/ Brightness Down\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2K<\/strong>, 0x0205)\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2K<\/strong>, 0x0285)\\n\nend;\ninto method label <strong>_Q0F<\/strong> replace_content\nbegin\n\/\/ Brightness Up\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2K<\/strong>, 0x0206)\\n\nNotify(<strong>\\_SB.PCI0.LPCB.PS2K<\/strong>, 0x0286)\\n\nend;<\/code><\/pre>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/L3bIJz6.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B11: Reboot. <\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd: Patch \u1edf b\u01b0\u1edbc 10 l\u00e0 cho <code>Voodoops2controller.kext<\/code> n\u1ebfu c\u00e1c b\u1ea1n d\u00f9ng <code>ApplePS2SmartTouchPad.kext<\/code> th\u00ec c\u00e1c b\u1ea1n s\u1ebd add patch sau<\/strong>:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>into method label <strong>_Q0E<\/strong> replace_content\nbegin\n\/\/ Brightness Down\\n\nNotify (<strong>PS2K<\/strong>, 0x20)\\n\nend;\n\ninto method label <strong>_Q0F<\/strong> replace_content\nbegin\n\/\/ Brightness Up\\n\nNotify (<strong>PS2K<\/strong>, 0x10)\\n\nend<\/code><\/pre>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"2_Hotpatch\"><\/span>2. Hotpatch<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>C\u00e1c b\u01b0\u1edbc x\u00e1c \u0111\u1ecbnh method v\u00e0 path device \u0111\u1ec1u gi\u1ed1ng nh\u01b0 static patch nh\u01b0ng thay v\u00ec apply v\u00e0o DSDT ta s\u1ebd hotpatch ra SSDT.<\/p>\n\n\n\n<p>B1: c\u00e1c b\u1ea1n s\u1ebd thay c\u00e1c code in \u0111\u1eadm trong \u0111o\u1ea1n code sau b\u1eb1ng c\u00e1c method v\u00e0 path device \u0111\u00e3 t\u00ecm \u1edf tr\u00ean ( Rename <code>_Q0E to XQ0E<\/code> v\u00e0 <code>_Q0F to XQ0F<\/code>)<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>DefinitionBlock (\"\", \"SSDT\", 2, \"hack\", \"BRKEYS\", 0x00000000)\n{\n    External (<strong>_SB.PCI0.LPCB.EC<\/strong>, DeviceObj)\t\t\t\n    External (<strong>_SB.PCI0.LPCB.EC.XQ0E<\/strong>, MethodObj)    \/\/ Brightness down method\n    External (<strong>_SB.PCI0.LPCB.EC.XQ0F<\/strong>, MethodObj)    \/\/ Brightness up method\n    External (<strong>_SB_.PCI0.LPCB.PS2K<\/strong>, DeviceObj)\t\t\t\/\/rename to your keyboard device\n\n    Scope (<strong>_SB.PCI0.LPCB.EC<\/strong>)\n    {\n        Method (<strong>_Q0E<\/strong>, 0, NotSerialized)  \/\/ _Qxx: EC Query, xx=0x00-0xFF\n        {\n            If (_OSI (\"Darwin\"))\n            {\n                Notify (<strong>PS2K<\/strong>, 0x0365)\t\t\t\t\t\/\/send f14,rename to your keyboard device.\n            }\n            Else\n            {\n                <strong>\\_SB.PCI0.LPCB.EC.XQ0E<\/strong> ()\t\t\t\/\/redirects to original method for other OS.\n            }\n        }\n\n        Method (<strong>_Q0F<\/strong>, 0, NotSerialized)  \/\/ _Qxx: EC Query, xx=0x00-0xFF\n        {\n            If (_OSI (\"Darwin\"))\n            {\n                Notify (<strong>PS2K<\/strong>, 0x0366)\t\t\t\/\/sends f15, rename to your keyboard device.\n            }\n            Else\n            {\n                <strong>\\_SB.PCI0.LPCB.EC.XQ0F<\/strong> ()\n            }\n        }\n    }\n}<\/code><\/pre>\n\n\n\n<p>B2: C\u00e1c b\u1ea1n s\u1ebd convert c\u00e1c patch rename <code>_Q0E to XQ0E<\/code> v\u00e0 <code>_Q0F to XQ0F<\/code> t\u1eeb <code>ASCII to HEX <\/code>b\u1eb1ng Hackintool.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/DMpRDmj.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B3: M\u1edf config b\u1eb1ng ProperTree v\u00e0 add c\u00e1c patch rename theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\">t\u1ea1i \u0111\u00e2y<\/a>.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https:\/\/i.imgur.com\/5loPluF.png\" alt=\"\"\/><\/figure>\n\n\n\n<p>B4: Cho SSDT v\u1eeba t\u1ea1o v\u00e0o EFI ==> OC ==> ACPI (nh\u1edb snapshot config) v\u00e0 EFI ==> CLOVER ==> ACPI ==> Patched.<\/p>\n\n\n\n<p>B5: Reboot.<\/p>\n\n\n\n<h3><span class=\"ez-toc-section\" id=\"Cach_2_Fix_BRT6\"><\/span>C\u00e1ch 2: Fix BRT6<span class=\"ez-toc-section-end\"><\/span><\/h3>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"1_Static_patch\"><\/span>1. Static patch<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>\u1edf c\u00e1c m\u00e1y Dell Brightness keys s\u1ebd \u0111\u01b0\u1ee3c call qua BRT6 method trong DSDT. BRT6 s\u1ebd \u0111\u01b0\u1ee3c call qua EV5 method. EV5 method s\u1ebd \u0111\u01b0\u1ee3c call qua SMEE. SMEE s\u1ebd \u0111\u01b0\u1ee3c call qua OSID n\u1ebfu OSID tr\u1ea3 v\u1ec1 gi\u00e1 tr\u1ecb 0x20 (32 decimal). V\u00e0 OSID gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 s\u1ebd \u0111\u01b0\u1ee3c \u0111\u1eb7t trong tham s\u1ed1 ACOS.<\/p>\n\n\n\n<p>B1: \u0110\u1eb7t tham s\u1ed1 ACOS v\u1ec1 gi\u00e1 tr\u1ecb l\u00e0 0x20 cho Darwin OS. <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ before:\n\n        Method (OSID, 0, NotSerialized)\n        {\n            If (LEqual (ACOS, Zero))\n            {\n                &#91;...]\n\n                If (CondRefOf (\\_OSI, Local0))\n                {\n                    &#91;...]\n                    If (_OSI (WIN7))\n                    {\n                        Store (0x80, ACOS)\n                    }\n                    &#91;...]\n                }\n                &#91;...]\n            }\n            Return (ACOS)\n        }\n\n\/\/ after:\n\n        Method (OSID, 0, NotSerialized)\n        {\n            If (LEqual (ACOS, Zero))\n            {\n                &#91;...]\n                If (CondRefOf (\\_OSI, Local0))\n                {\n                    &#91;...]\n                    <strong>If (LOr (_OSI (\"Darwin\"), _OSI (WIN7)))<\/strong>     \/\/ chuy\u1ec3n \u0111o\u1ea1n code t\u1eeb win 7 th\u00e0nh win 7 v\u00e0 Darwin\n                    {\n                        Store (<strong>0x80<\/strong>, ACOS)                      \/\/ \u1edf \u0111\u00e2y n\u1ebfu gi\u00e1 tr\u1ecb b\u00e9 h\u01a1n 0x20 th\u00ec c\u00e1c b\u1ea1n s\u1ebd chuy\u1ec3n th\u00e0nh 0x20\n                    }\n                    &#91;...]\n                }\n                &#91;...]\n            }\n            Return (ACOS)\n        }<\/code><\/pre>\n\n\n\n<p>B2: Ta s\u1ebd ti\u1ebfn h\u00e0nh ch\u00e8n c\u00e1c key-code v\u00e0o BRT6 method. Ti\u1ebfn h\u00e0nh th\u1eed c\u00e1c key-code sau (th\u1eed t\u1eebng c\u00e1i 1). Ta c\u00f3 1 s\u1ed1 <code>key-code<\/code> \u0111\u00e3 ki\u1ec3m ch\u1ee9ng nh\u01b0 sau <code>0x0365<\/code> v\u00e0 <code>0x0366<\/code> s\u1ebd d\u00f9ng \u0111\u01b0\u1ee3c cho c\u00e1c model sau <code>dell Latitude E6x20, E6x30, E6x40, E7x50,\u00a0E7x70 or other 7x90<\/code>. V\u00e0 <code>0x0405, 0x0406<\/code> s\u1ebd d\u00f9ng \u0111\u01b0\u1ee3c cho c\u00e1c model kh\u00e1c nh\u01b0 <code>Precision 5510 or 7510<\/code>.<\/p>\n\n\n\n<ul><li>Brightness increase: key codes 0x10, 0x206, 0x286, 0x366, 0x0406<\/li><li>Brightness decrease: key codes 0x20, 0x205, 0x285, 0x365, 0x0405<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ before\n        Method (BRT6, 2, NotSerialized)\n        {\n            If (LEqual (Arg0, One))\n            {\n                Notify (LCD, 0x86)\n            }\n            If (And (Arg0, 0x02))\n            {\n                Notify (LCD, 0x87)\n            }\n        }\n\n\/\/ after\n\n        Method (BRT6, 2, NotSerialized)\n        {\n            If (LEqual (Arg0, One))\n            {\n                Notify (LCD, 0x86)\n                Notify (<strong>^^LPCB.PS2K<\/strong>, <strong>0x0366<\/strong>)     \/\/ ti\u1ebfn h\u00e0nh thay c\u00e1c device path v\u00e0 key-code v\u00e0o \u0111\u00e2y\n            }\n            If (And (Arg0, 0x02))\n            {\n                Notify (LCD, 0x87)\n                Notify (<strong>^^LPCB.PS2K<\/strong>, <strong>0x0365<\/strong>)     \/\/ ti\u1ebfn h\u00e0nh thay c\u00e1c device path v\u00e0 key-code v\u00e0o \u0111\u00e2y\n            }\n        }<\/code><\/pre>\n\n\n\n<p>B3: Cho DSDT v\u00e0o EFI ==> OC ==> ACPI (snapshot config) ho\u1eb7c EFI ==> CLOVER ==> ACPI ==> Patched. <\/p>\n\n\n\n<p>B4: Reboot.<\/p>\n\n\n\n<h4><span class=\"ez-toc-section\" id=\"2_Hotpatch-2\"><\/span>2. Hotpatch<span class=\"ez-toc-section-end\"><\/span><\/h4>\n\n\n\n<p>B1: C\u00e1c b\u1ea1n ti\u1ebfn h\u00e0nh t\u1ea1o SSDT method theo code sau:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>DefinitionBlock (\"\", \"SSDT\", 2, \"hack\", \"BRT6\", 0x00000000)\n{\n    External (_SB_.PCI0.IGPU, DeviceObj)    \/\/ (from opcode)\n    External (_SB_.PCI0.IGPU.LCD_, DeviceObj)    \/\/ (from opcode)\n    External (_SB_.PCI0.LPCB.PS2K, DeviceObj)    \/\/ (from opcode)\n    Scope (_SB.PCI0.IGPU)\n    {\n        Method (BRT6, 2, NotSerialized)\n        {\n            If (LEqual (Arg0, One))\n            {\n                Notify (LCD, 0x86)\n                Notify (^^LPCB.PS2K, 0x0366)     \/\/ Capture of brightness-up key stroke\n            }\n            If (And (Arg0, 0x02))\n            {\n                Notify (LCD, 0x87)\n                Notify (^^LPCB.PS2K, 0x0365)     \/\/ Capture of brightness-down key stroke\n            }\n        }\n    }\n}<\/code><\/pre>\n\n\n\n<p>B2: T\u1ea1o SSDT-XOSI theo code sau:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>DefinitionBlock (\"\", \"SSDT\", 2, \"hack\", \"XOSI\", 0x00000000)\n{\n    Method (XOSI, 1, NotSerialized)\n    {\n        Store (Package (0x0A)\n            {\n                \"Windows\", \n                \"Windows 2001\", \n                \"Windows 2001 SP2\", \n                \"Windows 2006\", \n                \"Windows 2006 SP1\", \n                \"Windows 2006.1\", \n                \"Windows 2009\", \n                \"Windows 2012\", \n                \"Windows 2013\", \n                \"Windows 2015\"\n            }, Local0)\n        Return (LNotEqual (Ones, Match (Local0, MEQ, Arg0, MTR, Zero, Zero)))\n    }\n}<\/code><\/pre>\n\n\n\n<p>B3: C\u00e1c b\u1ea1n search OSID trong DSDT n\u1ebfu c\u00f3 th\u00ec add SSDT-OC-Work-Dell.dsl<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>DefinitionBlock(\"\", \"SSDT\", 2, \"ACDT\", \"OCWork\", 0)\n{\n    External (_SB.ACOS, IntObj)\n    External (_SB.ACSE, IntObj)\n    \n    Scope (\\)\n    {\n        If (_OSI (\"Darwin\"))\n        {\n            \\_SB.ACOS = 0x80\n            \\_SB.ACSE = 0 \/\/ACSE=0:win7;;ACSE=1:win8\n        }\n    }\n}<\/code><\/pre>\n\n\n\n<p>B4: add c\u00e1c patch rename sau theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\" data-type=\"post\" data-id=\"140\">t\u1ea1i \u0111\u00e2y<\/a><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ BRT6 to BRTX\nFind (HEX):    4252543602    \nReplace (HEX): 4252545802    \n\n\/\/ OSID to XSID\nFind (HEX):    4F534944    \nReplace (HEX): 58534944  \n\n\/\/ _OSI to XOSI\nFind (HEX):    5F4F5349     \nReplace (HEX): 584F5349     <\/code><\/pre>\n\n\n\n<p><strong>L\u01b0u \u00fd: N\u1ebfu m\u00e1y Dell c\u1ee7a b\u1ea1n kh\u00f4ng c\u00f3 method BRT6 trong DSDT th\u00ec s\u1ebd kh\u00f4ng add <code>SSDT-BRT6<\/code> v\u00e0 ko rename <code>BRT6 to BRTX<\/code><\/strong>.<\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd 2: \u0110\u1ed1i v\u1edbi ph\u01b0\u01a1ng ph\u00e1p EC query th\u00ec c\u00e1c b\u1ea1n ph\u1ea3i ti\u1ebfn h\u00e0nh static patch tr\u01b0\u1edbc khi hotpatch<\/strong>.<\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd 3: N\u1ebfu c\u00e1c b\u1ea1n n\u00e0o l\u01b0\u1eddi ho\u1eb7c kh\u00f4ng l\u00e0m theo \u0111\u01b0\u1ee3c th\u00ec c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng app <a href=\"https:\/\/karabiner-elements.pqrs.org\/\">Karabiner<\/a><\/strong><\/p>\n\n\n\n<p><strong>Source tham kh\u1ea3o: <a href=\"https:\/\/osxlatitude.com\/forums\/topic\/15661-acpi-patch-for-brightness-keys-on-dell-laptops\/\">ACPI patch for brightness keys on Dell laptops &#8211; DSDT\/SSDT &#8211; osxlatitude.com<\/a> | <a href=\"https:\/\/www.insanelymac.com\/forum\/topic\/305030-guide-how-to-fix-brightness-hotkeys-in-dsdt-ssdt-hotpatch\/\">GUIDE: How to Fix Brightness hotkeys in DSDT \/ SSDT-hotpatch &#8211; Laptops | InsanelyMac<\/a> | <a href=\"https:\/\/github.com\/LAbyOne\/OpenCore-HotPatching-Guide\/blob\/master\/19-Dell%20Machine%20Patch%20List\/SSDT-OCWork-dell.dsl\">OpenCore-HotPatching-Guide\/SSDT-OCWork-dell.dsl at master \u00b7 LAbyOne\/OpenCore-HotPatching-Guide (github.com)<\/a> | <a href=\"https:\/\/www.olarila.com\/topic\/5722-guide-brightness-hotkey-remapping\/\">[Guide] &#8211; Brightness Hotkey Remapping &#8211; Guides and Tutorials &#8211; Olarila<\/a><\/strong><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Danh m\u1ee5c Ph\u1ea7n 1: Chu\u1ea9n b\u1ecb&nbsp;Ph\u1ea7n 2: Remap KeyBoardC\u00e1ch 1: Mapping Keyboard EC Query:1. Static Patch2. HotpatchC\u00e1ch 2: Fix BRT61. Static patch2. Hotpatch Ph\u1ea7n 1: Chu\u1ea9n b\u1ecb&nbsp; B1: T\u1ea3i Kext OS-X-ACPI-Debug. B2: Dump DSDT theo h\u01b0\u1edbng d\u1eabn t\u1ea1i \u0111\u00e2y. B3: t\u1ea3i MaciASL. B4: Add brightness-key.kext (n\u1ebfu Asus th\u00ec th\u00eam AsusSMC thay cho brightness-key.kext). B5: T\u1ea3i [&#8230;]\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[48],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v18.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>X. Fix Hotkeys - Heavietnam May 2022<\/title>\n<meta name=\"description\" content=\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"X. Fix Hotkeys - Heavietnam May 2022\" \/>\n<meta property=\"og:description\" content=\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\" \/>\n<meta property=\"og:url\" content=\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/\" \/>\n<meta property=\"og:site_name\" content=\"Heavietnam\" \/>\n<meta property=\"article:published_time\" content=\"2021-09-29T04:38:40+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-03-27T10:16:48+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/i.imgur.com\/NZkzVNX.png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/heavietnam.ga\/#organization\",\"name\":\"heavietnam team\",\"url\":\"https:\/\/heavietnam.ga\/\",\"sameAs\":[],\"logo\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/logo\/image\/\",\"url\":\"\",\"contentUrl\":\"\",\"caption\":\"heavietnam team\"},\"image\":{\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/logo\/image\/\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/heavietnam.ga\/#website\",\"url\":\"https:\/\/heavietnam.ga\/\",\"name\":\"Heavietnam\",\"description\":\"Everythingforhackintosher\",\"publisher\":{\"@id\":\"https:\/\/heavietnam.ga\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/heavietnam.ga\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage\",\"url\":\"https:\/\/i.imgur.com\/NZkzVNX.png\",\"contentUrl\":\"https:\/\/i.imgur.com\/NZkzVNX.png\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage\",\"url\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/\",\"name\":\"X. Fix Hotkeys - Heavietnam May 2022\",\"isPartOf\":{\"@id\":\"https:\/\/heavietnam.ga\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage\"},\"datePublished\":\"2021-09-29T04:38:40+00:00\",\"dateModified\":\"2022-03-27T10:16:48+00:00\",\"description\":\"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5\",\"breadcrumb\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/heavietnam.ga\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"X. Fix Hotkeys\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage\"},\"author\":{\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc\"},\"headline\":\"X. Fix Hotkeys\",\"datePublished\":\"2021-09-29T04:38:40+00:00\",\"dateModified\":\"2022-03-27T10:16:48+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage\"},\"wordCount\":835,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/heavietnam.ga\/#organization\"},\"image\":{\"@id\":\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/i.imgur.com\/NZkzVNX.png\",\"articleSection\":[\"post install\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/heavietnam.ga\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g\",\"caption\":\"admin\"},\"sameAs\":[\"https:\/\/heavietnam.ga\"],\"url\":\"https:\/\/heavietnam.ga\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"X. Fix Hotkeys - Heavietnam May 2022","description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/","og_locale":"en_US","og_type":"article","og_title":"X. Fix Hotkeys - Heavietnam May 2022","og_description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","og_url":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/","og_site_name":"Heavietnam","article_published_time":"2021-09-29T04:38:40+00:00","article_modified_time":"2022-03-27T10:16:48+00:00","og_image":[{"url":"https:\/\/i.imgur.com\/NZkzVNX.png"}],"twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/heavietnam.ga\/#organization","name":"heavietnam team","url":"https:\/\/heavietnam.ga\/","sameAs":[],"logo":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/heavietnam.ga\/#\/schema\/logo\/image\/","url":"","contentUrl":"","caption":"heavietnam team"},"image":{"@id":"https:\/\/heavietnam.ga\/#\/schema\/logo\/image\/"}},{"@type":"WebSite","@id":"https:\/\/heavietnam.ga\/#website","url":"https:\/\/heavietnam.ga\/","name":"Heavietnam","description":"Everythingforhackintosher","publisher":{"@id":"https:\/\/heavietnam.ga\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/heavietnam.ga\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage","url":"https:\/\/i.imgur.com\/NZkzVNX.png","contentUrl":"https:\/\/i.imgur.com\/NZkzVNX.png"},{"@type":"WebPage","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage","url":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/","name":"X. Fix Hotkeys - Heavietnam May 2022","isPartOf":{"@id":"https:\/\/heavietnam.ga\/#website"},"primaryImageOfPage":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage"},"datePublished":"2021-09-29T04:38:40+00:00","dateModified":"2022-03-27T10:16:48+00:00","description":"n\u01a1i c\u00e1c hackintosher h\u1ed9i t\u1ee5","breadcrumb":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/heavietnam.ga\/"},{"@type":"ListItem","position":2,"name":"X. Fix Hotkeys"}]},{"@type":"Article","@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#article","isPartOf":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage"},"author":{"@id":"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc"},"headline":"X. Fix Hotkeys","datePublished":"2021-09-29T04:38:40+00:00","dateModified":"2022-03-27T10:16:48+00:00","mainEntityOfPage":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#webpage"},"wordCount":835,"commentCount":0,"publisher":{"@id":"https:\/\/heavietnam.ga\/#organization"},"image":{"@id":"https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#primaryimage"},"thumbnailUrl":"https:\/\/i.imgur.com\/NZkzVNX.png","articleSection":["post install"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/heavietnam.ga\/2021\/09\/29\/x-cach-fix-hotkey\/#respond"]}]},{"@type":"Person","@id":"https:\/\/heavietnam.ga\/#\/schema\/person\/e8b0707792dc7b3ee036862f26b2a0bc","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/heavietnam.ga\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/1419ddfb887a4b128989fe75c3bcdfd5?s=96&r=g","caption":"admin"},"sameAs":["https:\/\/heavietnam.ga"],"url":"https:\/\/heavietnam.ga\/author\/admin\/"}]}},"_links":{"self":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/104"}],"collection":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/comments?post=104"}],"version-history":[{"count":9,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/104\/revisions"}],"predecessor-version":[{"id":2872,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/104\/revisions\/2872"}],"wp:attachment":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/media?parent=104"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/categories?post=104"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/tags?post=104"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}