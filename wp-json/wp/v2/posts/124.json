{"id":124,"date":"2021-09-29T04:46:59","date_gmt":"2021-09-29T04:46:59","guid":{"rendered":"https:\/\/heavietnam.ga\/?p=124"},"modified":"2021-10-04T11:01:38","modified_gmt":"2021-10-04T04:01:38","slug":"xx-fix-shutdown","status":"publish","type":"post","link":"https:\/\/heavietnam.ga\/2021\/09\/29\/xx-fix-shutdown\/","title":{"rendered":"XX. Fix shutdown"},"content":{"rendered":"<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Danh m\u1ee5c<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xx-fix-shutdown\/#Loi_shutdown_restart\" title=\"L\u1ed7i shutdown restart&nbsp;\">L\u1ed7i shutdown restart&nbsp;<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xx-fix-shutdown\/#XXI2_Loi_shutdown_do_nvram\" title=\"XXI.2 :L\u1ed7i shutdown do nvram :&nbsp;\">XXI.2 :L\u1ed7i shutdown do nvram :&nbsp;<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xx-fix-shutdown\/#fix_shutdown_do_dsdt_bi_loi\" title=\"fix shutdown do dsdt b\u1ecb l\u1ed7i\">fix shutdown do dsdt b\u1ecb l\u1ed7i<\/a><\/li><\/ul><\/nav><\/div>\n\n<h2><span class=\"ez-toc-section\" id=\"Loi_shutdown_restart\"><\/span><strong><em>L\u1ed7i shutdown restart&nbsp;<\/em><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p>\u0110\u1ed1i v\u1edbi 1 s\u1ed1 m\u00e1y khi shutdown th\u00ec t\u1ef1 \u0111\u1ed9ng restart l\u1ea1i b\u1eaft bu\u1ed9c ph\u1ea3i shutdown b\u1eb1ng ph\u00edm c\u1ee9ng th\u00ec c\u00f3 th\u1ec3 th\u1eed c\u00e1ch sau \u0111\u00e2y<\/p>\n\n\n\n<p>B1: Down file t\u1eeb ngu\u1ed3n <a href=\"https:\/\/github.com\/dortania\/OpenCore-Post-Install\/blob\/master\/extra-files\/FixShutdown-USB-SSDT.dsl\">sau \u0111\u00e2y\u00a0<\/a><\/p>\n\n\n\n<p>B2: Chuy\u1ec3n file t\u1eeb d\u1ea1ng file dsl sang d\u1ea1ng file aml theo h\u01b0\u1edbng d\u1eabn \u1edf m\u1ee5c <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\">XXVI<\/a>\u00a0<\/p>\n\n\n\n<p>B3: B\u1ecf file v\u00e0o m\u1ee5c EFI \u21d2 ACPI sau \u0111\u00f3 snaps l\u1ea1i\u00a0( \u0111\u1ed1i v\u1edbi clover c\u00e1c b\u1ea1n b\u1ecf file ssdt v\u00e0o EFI ==> ACPI ==> Patched<\/p>\n\n\n\n<p>B4: C\u00e1c b\u1ea1n add v\u00e0o config c\u00e1c patch theo links sau <a href=\"https:\/\/github.com\/dortania\/OpenCore-Post-Install\/blob\/master\/extra-files\/FixShutdown-Patch.plist\">OpenCore-Post-Install\/FixShutdown-Patch.plist at master \u00b7 dortania\/OpenCore-Post-Install \u00b7 GitHub<\/a> ( m\u00ecnh\u00a0 khuy\u00ean c\u00e1c b\u1ea1n n\u00ean chuy\u1ec3n v\u1ec1 d\u1ea1ng file xml \u0111\u1ec3 d\u1ec5 ch\u1ec9nh s\u1eeda v\u00e0 so s\u00e1nh c\u00e1ch c\u00e1ch chuy\u1ec3n m\u00ecnh c\u00f3 h\u01b0\u1edbng d\u1eabn \u1edf m\u1ee5c\u00a0 <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/vi-2fix-gprw-uprw-lanc\/\">VI.2<\/a> )<\/p>\n\n\n\n<p>B5: Save l\u1ea1i\u00a0<\/p>\n\n\n\n<p>B6: Reboot v\u00e0 t\u1eadn h\u01b0\u1edfng th\u00f4i\u00a0<\/p>\n\n\n\n<p><strong><em>L\u01b0u \u00fd: Source tham kh\u1ea3o <\/em><\/strong><a href=\"https:\/\/dortania.github.io\/OpenCore-Post-Install\/usb\/misc\/shutdown.html\"><strong><em>Fixing Shutdown\/Restart | OpenCore Post-Install (dortania.github.io)<\/em><\/strong><\/a><\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd 2: \u0110\u1ed1i v\u1edbi c\u00e1c b\u1ea1n \u0111\u00e3 l\u00e0m theo nh\u1eefng v\u1eabn b\u1ecb l\u1ed7i th\u00ec c\u00e1c b\u1ea1n c\u00f3th\u1ec3 th\u1eed\u00a0 apply patch sau v\u00e0o dsdt <\/strong><a href=\"https:\/\/github.com\/RehabMan\/Laptop-DSDT-Patch\/blob\/master\/system\/system_Shutdown_restart.txt\"><strong>Laptop-DSDT-Patch\/system_Shutdown_restart.txt at master \u00b7 RehabMan\/Laptop-DSDT-Patch (github.com)<\/strong><\/a><strong> sau \u0111\u00f3 tr\u00edch ra ssdt \u0111\u1ec3 s\u1eed d\u1ee5ng (xem \u1edf m\u1ee5c <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\">XXVIII<\/a> | h\u00e3y ch\u1eafc r\u1eb1ng c\u00e1ch n\u00e0y ho\u1ea1t \u0111\u1ed9ng tr\u00ean dsdt v\u00e0 l\u01b0u \u00fd n\u1ebfu nh\u01b0 s\u1eed d\u1ee5ng dsdt b\u1ea1n c\u1ea7n rename ec \u0111\u1ecdc \u1edf ph\u1ea7n l\u01b0u \u00fd m\u1ee5c <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvii-patch-dsdt-phan-2\/\">XXVII<\/a> \u0111\u1ec3 bi\u1ebft c\u00e1ch rename EC)<\/strong><\/p>\n\n\n\n<h2><span class=\"ez-toc-section\" id=\"XXI2_Loi_shutdown_do_nvram\"><\/span><strong><em>XXI.2 :L\u1ed7i shutdown do nvram :&nbsp;<\/em><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p>B1: M\u1edf terminal v\u00e0 g\u00f5 c\u00e1c l\u1ec7nh sau\u00a0<\/p>\n\n\n\n<p>sudo -s<\/p>\n\n\n\n<p>nvram -c<\/p>\n\n\n\n<p>nvram myvar=test<\/p>\n\n\n\n<p>exit<\/p>\n\n\n\n<p>B2: Restart m\u00e1y v\u00e0 m\u1edf terminal g\u00f5 l\u1ec7nh sau<\/p>\n\n\n\n<p>nvram -p | grep -i myvar<\/p>\n\n\n\n<p>N\u1ebfu kh\u00f4ng c\u00f3 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 th\u00ec b\u1ea1n h\u00e3y b\u1ecf <a href=\"https:\/\/github.com\/dortania\/Getting-Started-With-ACPI\/blob\/master\/extra-files\/compiled\/SSDT-PMC.aml\">ssdt-pmc<\/a> v\u00e0o (do nvram kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng) n\u1ebfu c\u00f3 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 myvar test th\u00ec c\u00e1c b\u1ea1n chuy\u1ec3n sang ph\u1ea7n ti\u1ebfp theo\u00a0(\u0111\u1ed1i v\u1edbi oc nh\u1edb snapshot)<\/p>\n\n\n\n<p><strong>L\u01b0u \u00fd: Source tham kh\u1ea3o \u200b\u200b<\/strong><a href=\"https:\/\/dortania.github.io\/OpenCore-Post-Install\/misc\/nvram.html#enabling-emulated-nvram-with-a-nvram-plist\"><strong>Emulated NVRAM | OpenCore Post-Install (dortania.github.io)<\/strong><\/a><\/p>\n\n\n\n<h2><span class=\"ez-toc-section\" id=\"fix_shutdown_do_dsdt_bi_loi\"><\/span><strong><em>fix shutdown do dsdt b\u1ecb l\u1ed7i<\/em><\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p>B1: C\u00e1c b\u1ea1n dump dsdt nh\u01b0 hd \u1edf m\u1ee5c <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvi-patch-dsdt-phan-1\/\">XXVI<\/a>\u00a0<\/p>\n\n\n\n<p>B2: C\u00e1c b\u1ea1n bi\u00ean d\u1ecbch dsdt th\u00e0nh file dsl nh\u01b0 h\u01b0\u1edbng d\u1eabn \u1edf m\u1ee5c XXVII.2\u00a0<\/p>\n\n\n\n<p>B3: Apply c\u00e1c patch sau<a href=\"https:\/\/github.com\/RehabMan\/Laptop-DSDT-Patch\/blob\/master\/system\/system_Shutdown.txt\"> shutdown v1<\/a> <a href=\"https:\/\/github.com\/RehabMan\/Laptop-DSDT-Patch\/blob\/master\/system\/system_Shutdown2.txt\">shutdown v2<\/a> (kh\u00f4ng apply c\u1ea3 2 patch c\u00f9ng l\u00fac th\u1eed apply shutdown v1 tr\u01b0\u1edbc n\u1ebfu kh\u00f4ng \u0111\u01b0\u1ee3c th\u00ec x\u00f3a patch shutdownv1 r\u1ed3i m\u1edbi apply shutdown v2 | apply patch theo h\u01b0\u1edbng d\u1eabn <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxvii-patch-dsdt-phan-2\/\">XXVII<\/a>)<\/p>\n\n\n\n<p>B4: Tr\u00edch ssdt-shutdown t\u1eeb dsdt theo h\u01b0\u1edbng d\u1eabn \u1edf m\u1ee5c <a href=\"https:\/\/heavietnam.ga\/2021\/09\/29\/xxviii-patch-dsdt-phan-3\/\">XXVIII<\/a> (h\u00e3y ch\u1eafc r\u1eb1ng c\u00e1c patch \u0111\u00e3 apply v\u00e0o dsdt ho\u1ea1t \u0111\u1ed9ng tr\u01b0\u1edbc khi tr\u00edch ra ssdt)<\/p>\n\n\n\n<p>B5: B\u1ecf ssdt v\u1eeba tr\u00edch v\u00e0o EFI \u21d2 ACPI v\u00e0 snaps l\u1ea1i<\/p>\n\n\n\n<p>B6: Save v\u00e0 restart<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Danh m\u1ee5c L\u1ed7i shutdown restart&nbsp;XXI.2 :L\u1ed7i shutdown do nvram :&nbsp;fix shutdown do dsdt b\u1ecb l\u1ed7i L\u1ed7i shutdown restart&nbsp; \u0110\u1ed1i v\u1edbi 1 s\u1ed1 m\u00e1y khi shutdown th\u00ec t\u1ef1 \u0111\u1ed9ng restart l\u1ea1i b\u1eaft bu\u1ed9c ph\u1ea3i shutdown b\u1eb1ng ph\u00edm c\u1ee9ng th\u00ec c\u00f3 th\u1ec3 th\u1eed c\u00e1ch sau \u0111\u00e2y B1: Down file t\u1eeb ngu\u1ed3n sau \u0111\u00e2y\u00a0 B2: Chuy\u1ec3n file t\u1eeb [&#8230;]\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[48],"tags":[],"_links":{"self":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/124"}],"collection":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/comments?post=124"}],"version-history":[{"count":1,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/124\/revisions"}],"predecessor-version":[{"id":439,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/posts\/124\/revisions\/439"}],"wp:attachment":[{"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/media?parent=124"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/categories?post=124"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/heavietnam.ga\/wp-json\/wp\/v2\/tags?post=124"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}